{"version":3,"sources":["Components/Navbar.js","Pages/Landing/Landing.js","Pages/Login/LoginCard.js","Pages/Login/SignupCard.js","Pages/Login/Login.js","Pages/User/FormCard.js","Pages/User/UserTable.js","Pages/User/UserCard.js","Pages/User/User.js","Pages/Form/Download.js","Pages/Form/Form.js","Pages/Creator/Questions.js","Pages/Creator/Variables.js","Pages/Creator/SVG.js","Pages/Creator/Template.js","Pages/Creator/Publish.js","Pages/Creator/Creator.js","Pages/User/ReadQRCode.js","index.js","Source/example.js"],"names":["useStyles","makeStyles","theme","toolbar","borderBottom","palette","divider","TitleToolbar","props","classes","React","useState","openHelp","setOpenHelp","menuAnchor","setMenuAnchor","openMenu","event","currentTarget","closeMenu","goProfile","setControl","control","view","formID","tempData","logout","user","Toolbar","className","Grid","container","direction","justifyContent","alignItems","spacing","item","Button","size","onClick","Dialog","open","onClose","DialogTitle","DialogContent","DialogContentText","id","href","style","ButtonBase","toolbarTitle","setView","Typography","component","variant","align","noWrap","textDecoration","padding","formButton","Fragment","startIcon","username","Menu","Boolean","anchorEl","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","MenuItem","icon","marginRight","card","display","cardDetails","flex","cardMedia","width","heroContent","backgroundColor","background","paper","heroButtons","marginTop","footer","position","bottom","right","left","mainFeaturedPost","grey","color","common","white","marginBottom","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","overlay","top","mainFeaturedPostContent","breakpoints","up","paddingRight","buttons","margin","buttongg","buttonnav","root","flexGrow","menuButton","title","LangingPage","CssBaseline","textAlign","Container","Paper","src","alt","md","gutterBottom","paragraph","xs","CardActionArea","Card","CardContent","Hidden","xsDown","CardMedia","image","Login","show","password","setUser","TextField","fullWidth","label","value","onChange","target","FormControl","InputLabel","htmlFor","Input","type","endAdornment","InputAdornment","IconButton","onMouseDown","CardActions","disabled","example","users","Signup","firstname","lastname","email","showPassword","checkPassword","changeVisibility","state","error","alert","setCard","Tabs","newValue","indicatorColor","textColor","Tab","media","height","paddingTop","FormCard","setOpen","expanded","setExpanded","TableCell","Tooltip","maxWidth","CardHeader","avatar","Avatar","row","creator_avatar","action","creator","subheader","Date","last_updated","toISOString","slice","preview","name","Chip","field","dynamic_image","description","keywords","join","questions","Link","Collapse","in","timeout","unmountOnExit","readingQRCode","DialogActions","creator_id","editable","forms","UserTable","columns","rows","selectedColumns","defaultColumns","anchorSelect","tab","search","page","perPage","perPageOptions","table","setTable","selectRows","filter","favorites","indexOf","recents","created","i","length","toString","toLowerCase","includes","useEffect","fetchData","a","axios","get","then","response","catch","favs","favorite","default","fetchUser","newTab","admin","elevation","textTab","InputProps","startAdornment","placeholder","map","column","ListItem","FormControlLabel","Checkbox","checked","newSelected","changeSelectedColumns","showResetButton","TableContainer","Table","TableHead","TableRow","minWidth","TableBody","hover","role","tabIndex","userFavorites","index","push","splice","newUsers","setExample","handleFavorite","TablePagination","rowsPerPageOptions","count","rowsPerPage","onPageChange","newPage","onRowsPerPageChange","secondary","main","fontSize","primary","UserCard","getChipIcon","chip","getChipLabel","getChipColor","joined","substring","last_seen","chips","User","YAML","require","Download","editor","useRef","edit","setEdit","answers","svg","organs","organ","Math","random","generateQRCode","stringify","date","getTemplate","key","hasOwnProperty","answer","template","this_template","complete","begin","end","svgSource","ButtonGroup","text","input","document","getElementById","html2canvas","canvas","imgData","toDataURL","pdf","jsPDF","addImage","filename","getTime","save","minHeight","marginLeft","ReactHtmlParser","ref","config","toolbarAdaptive","readonly","Form","console","log","step","formatted","setAnswers","sendExtraProps","Stepper","activeStep","alternativeLabel","Step","StepLabel","form","defaultAnswers","autocompleteRequest","onFinish","newAnswers","typeOptions","otherOptions","otherOptionsSet","Set","option","checkOther","has","Question","deleteQuestion","preventDefault","newQuestions","question","setCreator","changeQuestion","newVariable","replace","questionLabel","variable","changeVariable","treatedText","changeType","newChoices","varName","choices","questionID","loopvar","min","max","others","qchoices","changeRequired","required","addOthers","changeDefault","choiceID","isNaN","Number","add","delete","removeOthers","changeLoopvar","changeMinMax","addChoice","newChoice","dragID","onDragEnd","result","destination","source","list","startIndex","endIndex","Array","from","removed","reorder","draggableId","provided","innerRef","draggableProps","dragHandleProps","Select","renderValue","selected","ListItemIcon","ListItemText","Switch","labelPlacement","droppableId","List","dense","choice","ContainerComponent","deleteChoice","questionIndex","choiceIndex","changeChoice","Divider","paddingLeft","helperText","FormGroup","Questions","droppableProps","newQuestion","qlength","heading","typography","pxToRem","flexBasis","flexShrink","secondaryHeading","node","border","borderRadius","operationNode","cursor","operations","operationID","draggable","equation","equationVars","operationLabel","inputType","cond","inputVar","inputID","conditionals","Text","OperationNode","setEquation","write","setWrite","closeDialog","changeEquation","isConnectable","data","Object","keys","variables","functions","defaultFunctions","errorHandler","defaultErrorHandler","autoFocus","Variables","createOutput","setCreateOutput","reactFlowWrapper","reactFlowInstance","setReactFlowInstance","onDragStart","varInfo","nodeType","dataTransfer","setData","JSON","effectAllowed","qnodes","nodesUsedIDs","nodes","outputs","Accordion","AccordionSummary","expandIcon","AccordionDetails","borderColor","button","maxHeight","operation","output","onKeyDown","keyCode","newOutputs","outputID","elements","onConnect","params","newNodes","targetIndex","valid","animated","setAlert","severity","addEdge","onLoad","_reactFlowInstance","onDrop","reactFlowBounds","current","getBoundingClientRect","project","x","clientX","y","clientY","parse","getData","newNode","concat","nodeTypes","defaultZoom","onDragOver","dropEffect","showInteractive","gap","Part","changePart","part","bool","newSVG","parts","valueTrue","valueFalse","partID","removePart","changeOutputID","multiline","SVG","setTab","accept","SVGtext","base","buildSVG","find","debug","changeSwitch","Template","extraButtons","iconURL","exec","t","args","s","insertHTML","onBlur","newContent","Publish","publishData","toJSON","isArray","uses","getPublish","publish","setPublish","read_more","newRows","newRow","split","keyword","trim","currentRow","newForms","isRequired","defaultAnswer","formatQuestions","qforms","ErrorCard","Creator","editData","selnode","used_variables","getCreator","renderStep","ReadQRCode","paddingBottom","onDecode","qrdata","yaml","load","constraints","audio","video","facingMode","captureSize","themeLight","createTheme","Control","andreis_avatar","andreis","joel","dbExample","sendControl","newView","returnView","Snackbar","autoHideDuration","ReactDOM","render"],"mappings":"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","file":"static/js/main.d38dbaf0.chunk.js","sourcesContent":["import React from 'react';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport Button from '@material-ui/core/Button';\r\nimport ButtonBase from '@material-ui/core/ButtonBase';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    toolbar: {\r\n        borderBottom: `1px solid ${theme.palette.divider}`,\r\n    }\r\n}));\r\n\r\nexport default function TitleToolbar(props) {\r\n    const classes = useStyles();\r\n    const [openHelp, setOpenHelp] = React.useState(false);\r\n    const [menuAnchor, setMenuAnchor] = React.useState(null);\r\n    const openMenu=(event)=>{setMenuAnchor(event.currentTarget)}\r\n    const closeMenu=()=>{setMenuAnchor(null)}\r\n    const goProfile=()=>{props.setControl({...props.control, view:'user', formID: null, tempData: {}})}\r\n    const logout=()=>{props.setControl({view: 'landing', formID: null, tempData: {}, user: null})}\r\n    function loginButton(){\r\n        if(!props.control.user)\r\n            return <Button variant=\"outlined\" onClick={()=>props.setView('login')}>Connecter</Button>\r\n        else\r\n            return (\r\n                <React.Fragment>\r\n                    <Button variant=\"outlined\" startIcon={<AccountCircleIcon />} onClick={openMenu}>{props.control.user.username}</Button>\r\n                    <Menu open={Boolean(menuAnchor)} onClose={closeMenu} anchorEl={menuAnchor} anchorOrigin={{vertical: 'top', horizontal: 'right'}} keepMounted transformOrigin={{vertical: 'top', horizontal: 'right'}}>\r\n                        <MenuItem onClick={goProfile}>Profil</MenuItem>\r\n                        <MenuItem onClick={logout}>Déconnecter</MenuItem>\r\n                    </Menu>\r\n                </React.Fragment>\r\n            )\r\n    }\r\n    function formButton(){\r\n        if(props.control.user)\r\n            return <Button variant=\"outlined\" onClick={()=>props.setView('user')}>Forms</Button>\r\n    }\r\n    return(\r\n        <Toolbar className={classes.toolbar}>\r\n            <Grid container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\" spacing={1}>\r\n                <Grid item>\r\n                    <Button size=\"small\" onClick={() => {setOpenHelp(true)}}>Pour ISARVIT</Button>\r\n                    <Dialog open={openHelp} onClose={() => {setOpenHelp(false)}}>\r\n                        <DialogTitle>ISARVIT</DialogTitle>\r\n                        <DialogContent>\r\n                            <DialogContentText id=\"alert-dialog-description\">\r\n                                ISARVIT est une très belle application Web basée sur l'idée simple de faciliter la génération de rapports médicaux. Cela a commencé comme un projet étudiant sous la direction de M. Slim Hammadi (chercheur au CRIStAL et professeur à Centrale Lille) et du Centre Hospitalier Universitaire de Lille.\r\n                                L'idée est simple : un Médecin (qui sera désormais référencé comme \"Admin\") peut créer des formulaires médicaux et un modèle pour le Rapport Médical, un autre utilisateur (qui sera référencé comme \"Utilisateur\"), tel qu'un autre médecin ou radiologue, peut accéder aux formulaires disponibles, remplir les questions avec les informations de son patient et, en quelques secondes, avoir entre les mains un rapport médical bien formaté.\r\n                                (<a href=\"https://github.com/ISARVIT\">Documentation</a>)\r\n                            </DialogContentText>\r\n                        </DialogContent>\r\n                    </Dialog>\r\n                </Grid>\r\n                <Grid item style={{}}>\r\n                    <ButtonBase className={classes.toolbarTitle} onClick={()=>props.setView('landing')}>\r\n                        <Typography component=\"h2\" variant=\"h5\" align=\"center\" noWrap style={{textDecoration: 'underline', padding: '1rem'}}>\r\n                            ISARVIT\r\n                        </Typography>\r\n                    </ButtonBase>\r\n                </Grid>\r\n                <Grid item>\r\n                    {formButton()}\r\n                    {' '}\r\n                    {loginButton()}\r\n                </Grid>\r\n            </Grid>\r\n        </Toolbar>\r\n    )\r\n}","import React from 'react';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  icon: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  card: {\r\n    display: 'flex',\r\n  },\r\n  cardDetails: {\r\n    flex: 1,\r\n  },\r\n  cardMedia: {\r\n    width: 160,\r\n  },\r\n  heroContent: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    padding: theme.spacing(8, 0, 6),\r\n  },\r\n  heroButtons: {\r\n    marginTop: theme.spacing(4),\r\n  },\r\n  \r\n  footer: {\r\n    backgroundColor: '#DAE0E2',\r\n    padding: theme.spacing(2),\r\n    position: 'relative',\r\n    bottom: 0,\r\n    right: 0,\r\n    left: 0\r\n  },\r\n  mainFeaturedPost: {\r\n    position: 'relative',\r\n    backgroundColor: theme.palette.grey[800],\r\n    color: theme.palette.common.white,\r\n    marginBottom: theme.spacing(4),\r\n    backgroundImage: 'url(https://www.chu-lille.fr/wp-content/uploads/2019/03/JDF4.jpg)',\r\n    backgroundSize: 'cover',\r\n    backgroundRepeat: 'no-repeat',\r\n    backgroundPosition: 'center',\r\n  },\r\n  overlay: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    bottom: 0,\r\n    right: 0,\r\n    left: 0,\r\n    backgroundColor: 'rgba(0,0,0,.3)',\r\n  },\r\n  mainFeaturedPostContent: {\r\n    position: 'relative',\r\n    padding: theme.spacing(3),\r\n    [theme.breakpoints.up('md')]: {\r\n      padding: theme.spacing(6),\r\n      paddingRight: 0,\r\n    },\r\n  },\r\n  buttons : {\r\n    '& > *': {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  buttongg: {\r\n    backgroundColor: 'teal'\r\n  },\r\n  buttonnav: {\r\n    backgroundColor: 'white'\r\n  },\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\n\r\nexport default function LangingPage(props) {\r\n  const classes = useStyles();\r\n  return (\r\n    <div>\r\n      <CssBaseline />\r\n\r\n      <main style={{textAlign: 'start'}}>\r\n        <div>\r\n          <Container>\r\n            <br></br>\r\n            <br></br>\r\n            <br></br>\r\n          <Paper className={classes.mainFeaturedPost} >\r\n            {/* Increase the priority of the hero background image */}\r\n            {<img style={{ display: 'none' }} src=\"https://www.chu-lille.fr/wp-content/uploads/2019/03/JDF4.jpg\" alt=\"gg\" />}\r\n            <div className={classes.overlay} />\r\n            <Grid container>\r\n              <Grid item md={6}>\r\n                <div className={classes.mainFeaturedPostContent}>\r\n                  <Typography component=\"h1\" variant=\"h3\" color=\"inherit\" gutterBottom>\r\n                    ISARVIT\r\n                  </Typography>\r\n                  <Typography variant=\"h5\" color=\"inherit\" paragraph>\r\n                    Creer des Compte-Rendus Automatisées\r\n                  </Typography>\r\n                  <div className={classes.buttons}>\r\n                    {props.control.user? null:\r\n                      <Button variant=\"contained\" color=\"primary\" className={classes.buttongg} onClick={()=>props.setControl({...props.control, view: 'login'})}>\r\n                        Connecter\r\n                      </Button>\r\n                    }\r\n                  </div>\r\n                 \r\n              \r\n                  \r\n                </div>\r\n              </Grid>\r\n            </Grid>\r\n          </Paper>\r\n           <br></br>\r\n           <br></br>\r\n           <br></br>\r\n           \r\n\r\n           <div>\r\n           <Grid container spacing={4}>\r\n            <Grid item xs={12} md={6}>\r\n                <CardActionArea component=\"a\" href=\"/\">\r\n                  <Card className={classes.card}>\r\n                    <div className={classes.cardDetails}>\r\n                      <CardContent>\r\n                        <Typography component=\"h2\" variant=\"h5\">\r\n                          CRIStAL\r\n                        </Typography>\r\n                        <Typography variant=\"subtitle1\"  style={{color: 'teal'}}>\r\n                          Partenaire\r\n                        </Typography>\r\n                        <Typography variant=\"subtitle1\" paragraph>\r\n                          CRIStAL est né le 1er janvier 2015 sous la tutelle du CNRS, de l’Université Lille 1 et de Centrale Lille en partenariat avec l’Université Lille 3, Inria et l’Institut Mines Telecom. CRIStAL est membre de l’institut de recherches interdisciplinaires IRCICA – USR CNRS 3380 (https://ircica.univ-lille.fr/fr/linstitut). Depuis janvier 2018, les universités lilloises ont fusionné. Les tutelles principales de CRIStAL sont l’Université de Lille, le CNRS et Centrale Lille Institut. Ses tutelles secondaires sont Inria Lille Nord Europe et l’IMT Lille-Douai. L’unité est composée de plus de 470 membres (230 permanents et près de 240 non permanents).\r\n                        </Typography>\r\n                       \r\n                      </CardContent>\r\n                    </div>\r\n                    <Hidden xsDown>\r\n                      <CardMedia className={classes.cardMedia} image=\"https://www.cristal.univ-lille.fr/logos/logoCRIStAL.svg\" title=\"\" />\r\n                    </Hidden>\r\n                  </Card>\r\n                </CardActionArea>\r\n              </Grid>\r\n              <Grid item xs={12} md={6}>\r\n                <CardActionArea component=\"a\" href=\"/\">\r\n                  <Card className={classes.card}>\r\n                    <div className={classes.cardDetails}>\r\n                      <CardContent>\r\n                        <Typography component=\"h2\" variant=\"h5\">\r\n                          CERIM\r\n                        </Typography>\r\n                        <Typography variant=\"subtitle1\"  style={{color: 'teal'}}>\r\n                          Partenaire\r\n                        </Typography>\r\n                        <Typography variant=\"subtitle1\" paragraph>\r\n                          Le CERIM est une Unité de la Faculté de Médecine Henri Warembourg de l’Université de Lille. Le CERIM est situé au 2ème étage aile Est du Pôle Recherche (voir le plan ). Historiquement, le CERIM est un laboratoire de recherche de la Faculté de Médecine, et a mis en place le réseau et les services informatiques de la Faculté de Médecine et du secteur Droit et Santé de l’Université de Lille (voir l’histoire du CERIM). Le CERIM a été fondé en 1984 par le Pr Régis Beuscart qui l’a dirigé jusqu’en 2018. Depuis, le CERIM est dirigé dans la continuité par le Pr Emmanuel Chazard. Le secrétariat du CERIM est tenu par Mme Mélanie Steffe.\r\n                        </Typography>\r\n                      </CardContent>\r\n                    </div>\r\n                    <Hidden xsDown>\r\n                      <CardMedia className={classes.cardMedia} image=\"https://cerim.univ-lille.fr/fileadmin/_processed_/4/3/csm_CERIM_logo_2020_0d8c1c9217.png\" title=\"\" />\r\n                    </Hidden>\r\n                  </Card>\r\n                </CardActionArea>\r\n              </Grid>\r\n            </Grid>\r\n           </div>\r\n          </Container>\r\n\r\n          <br></br>\r\n          <br></br>\r\n          <br></br>\r\n          <br></br>\r\n        </div>\r\n      </main>\r\n      \r\n    </div>\r\n  );\r\n}\r\n","import axios from 'axios';\r\nimport Button from '@material-ui/core/Button';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\r\n\r\nexport default function Login(props){\r\n  const [user, setUser] = React.useState({\r\n    show: false,\r\n    username: '',\r\n    password: '',\r\n  })\r\n  const changeUsername = (event) => {\r\n    setUser({...user, username: event.target.value});\r\n  };\r\n  const changePassword = (event) => {\r\n    setUser({...user, password: event.target.value});\r\n  };\r\n  const connect = () => {\r\n    // axios({\r\n    //     method: 'get',\r\n    //     url: 'https://api-isarvit.herokuapp.com/API/login',\r\n    //     headers: { 'user': user.username, 'password': user.password}\r\n    // })\r\n    // .then(function (response){\r\n    //   props.setControl({...props.control, login: response})\r\n    // })\r\n    // .catch(function (error){\r\n    //   props.setAlert({open: true, text: \"Error in login\", severity: \"error\"})\r\n    // });\r\n    if(user.username in props.example.users && props.example.users[user.username].password === user.password)\r\n      props.setControl({...props.control, user: props.example.users[user.username], view: 'user'})\r\n}\r\n\r\n  return (\r\n    <Card>\r\n      <CardContent>\r\n        <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n          Connecter\r\n        </Typography>\r\n        <TextField id=\"standard-name\" fullWidth label=\"Nom d'utilisateur\" value={user.username} onChange={changeUsername} />\r\n        <FormControl fullWidth>\r\n          <InputLabel htmlFor=\"standard-adornment-password\">Mot de Passe</InputLabel>\r\n          <Input type={user.show ? 'text' : 'password'} value={user.password} onChange={changePassword}\r\n            endAdornment={\r\n              <InputAdornment position=\"end\">\r\n                <IconButton onClick={() => setUser({...user, show: true})} onMouseDown={() => setUser({...user, show: false})}>\r\n                  {user.show ? <Visibility /> : <VisibilityOff />}\r\n                </IconButton>\r\n              </InputAdornment>\r\n            }\r\n          />\r\n        </FormControl>\r\n      </CardContent>\r\n      <CardActions>\r\n          <Button disabled={user.username === '' || user.password === ''} size=\"small\" color=\"primary\" onClick={connect}>\r\n            Connecter\r\n          </Button>\r\n      </CardActions>\r\n    </Card>\r\n  )\r\n}","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Card from '@material-ui/core/Card';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport FormControl from '@material-ui/core/FormControl';\r\n\r\nexport default function Signup(){\r\n    const [user, setUser] = React.useState({\r\n        firstname: '',\r\n        lastname: '',\r\n        username: '',\r\n        email: '',\r\n        password: '',\r\n        showPassword: false,\r\n        checkPassword: '',\r\n    });\r\n    const changeUsername = (event) => {\r\n        setUser({...user, username: event.target.value});\r\n    };\r\n    const changeFirstname = (event) => {\r\n        setUser({...user, firstname: event.target.value});\r\n    };\r\n    const changeLastname = (event) => {\r\n        setUser({...user, lastname: event.target.value});\r\n    };\r\n    const changeEmail = (event) => {\r\n        setUser({...user, email: event.target.value});\r\n    };\r\n    const changePassword = (event) => {\r\n        setUser({...user, password: event.target.value});\r\n    };\r\n    const changeCheckPassword = (event) => {\r\n        setUser({...user, checkPassword: event.target.value});\r\n    };\r\n    function changeVisibility(state){\r\n        setUser({...user, showPassword: state});\r\n    };\r\n    const connect = () => {\r\n        alert(\"Connected!\")\r\n    }\r\n    return (\r\n        <Card>\r\n            <CardContent>\r\n                <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                    Créer Compte\r\n                </Typography>\r\n                    <Grid container direction=\"row\" justifyContent=\"space-between\" spacing={1}>\r\n                        <Grid item xs={5}>\r\n                            <TextField fullWidth label=\"Prénom\" value={user.firstname} onChange={changeFirstname}/>\r\n                        </Grid>\r\n                        <Grid item xs={7}>\r\n                            <TextField fullWidth label=\"Nom\" value={user.lastname} onChange={changeLastname} />\r\n                        </Grid>\r\n                    </Grid>\r\n                    <TextField fullWidth label=\"Username\" value={user.username} onChange={changeUsername} />\r\n                    <TextField fullWidth label=\"Mail\" value={user.email} onChange={changeEmail} />\r\n                    <FormControl fullWidth>\r\n                        <InputLabel>Mot de Passe</InputLabel>\r\n                        <Input\r\n                            type={user.showPassword ? 'text' : 'password'}\r\n                            value={user.password}\r\n                            onChange={changePassword}\r\n                            endAdornment={\r\n                                <InputAdornment position=\"end\">\r\n                                    <IconButton\r\n                                    onClick={() => changeVisibility(true)}\r\n                                    onMouseDown={() => changeVisibility(false)}\r\n                                    >\r\n                                    {user.showPassword ? <Visibility /> : <VisibilityOff />}\r\n                                    </IconButton>\r\n                                </InputAdornment>\r\n                            }\r\n                        />\r\n                    </FormControl>\r\n                    <FormControl fullWidth /*style={{color:user.checkPassword===user.password&user.checkPassword!==''? \"green\":null}}*/ error={user.checkPassword!==user.password&user.checkPassword!==''}>\r\n                        <InputLabel>Repetez Mot de Passe</InputLabel>\r\n                        <Input\r\n                            type={'password'}\r\n                            value={user.checkPassword}\r\n                            onChange={changeCheckPassword}  \r\n                        />\r\n                    </FormControl>\r\n            </CardContent>\r\n            <CardActions>\r\n                <Button disabled={user.firstname==='' || user.lastname==='' || user.username==='' || user.email===''|| user.password==='' || user.password!==user.checkPassword} size=\"small\" color=\"primary\" onClick={connect}>\r\n                  Créer\r\n                </Button>\r\n            </CardActions>\r\n        </Card>\r\n    )\r\n}","import React from 'react';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport LoginCard from './LoginCard.js';\r\nimport SignupCard from './SignupCard.js';\r\n\r\n\r\nexport default function Login(props){\r\n  const [card, setCard] = React.useState(0);\r\n  const change = (event, newValue) => {\r\n    setCard(newValue)\r\n  }\r\n  return (\r\n    <Grid container direction=\"column\" justifyContent=\"center\" alignItems=\"center\" style={{marginTop: '10rem'}}>\r\n      <Grid item>\r\n        <Tabs value={card} onChange={change} indicatorColor=\"primary\" textColor=\"primary\">\r\n          <Tab label=\"Connecter\"/>\r\n          <Tab label=\"Creer\"/>\r\n        </Tabs>\r\n      </Grid>\r\n      <Grid item xs={3} style={{width: '100%'}}>\r\n        {!card?<LoginCard {...props}/>:<SignupCard {...props}/>}\r\n      </Grid>\r\n    </Grid>\r\n  )\r\n}","import Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Link from '@material-ui/core/Link';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport React from 'react';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  media: {\r\n    height: 0,\r\n    paddingTop: '40%', // 16:9\r\n  },\r\n}));\r\n\r\nexport default function FormCard(props){\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(false);\r\n  const [expanded, setExpanded] = React.useState(false);\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n  const useForms = () => {\r\n    props.setControl({...props.control, view: 'form', tempData:{}, formID: props.row.id})\r\n  }\r\n  const handleExpandClick = () => {\r\n    setExpanded(!expanded);\r\n  };\r\n  const editForms=()=>{\r\n    props.setControl({...props.control, view: 'creator', tempData: props.example.forms[props.row.id], formID: props.row.id });\r\n  }\r\n  return (\r\n    <TableCell>\r\n      <Tooltip title=\"See Form\">\r\n        <IconButton onClick={handleClickOpen}>\r\n          <ChevronRightIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n      <Dialog onClose={handleClose} open={open} fullWidth maxWidth='sm'>\r\n        <Card>\r\n          <CardHeader\r\n            avatar={<Avatar src={props.row.creator_avatar} />}\r\n            action={<Tooltip title=\"Options\"><IconButton><MoreVertIcon /></IconButton></Tooltip>}\r\n            title={'Created by '+props.row.creator}\r\n            subheader={'FormID '+props.row.id+'. Last update: '+new Date(props.row.last_updated).toISOString().slice(0, 10)}\r\n          />\r\n          <CardMedia\r\n            className={classes.media}\r\n            image={props.row.preview}\r\n            title=\"Preview\"\r\n          />\r\n          <CardContent>\r\n            <Grid container spacing={1} direction=\"row\" justifyContent=\"flex-start\" alignItems=\"center\">\r\n              <Grid item>\r\n                <Typography variant=\"h4\" component=\"span\">{props.row.name}</Typography>\r\n              </Grid>\r\n              <Grid item>\r\n              <Chip variant=\"outlined\" label={props.row.field} color='primary'/>\r\n              </Grid>\r\n              {!props.row.dynamic_image? null:\r\n                <Grid item>\r\n                  <Chip variant=\"outlined\" label={'Dynamic Image'} color='primary'/>\r\n                </Grid>\r\n              }\r\n            </Grid>\r\n            <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n              {props.row.description}\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n              <b>Keywords:</b> {props.row.keywords.join(', ')}\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n              <b>Questions:</b> {props.row.questions} Questions\r\n            </Typography>\r\n            {!props.row.paragraph? null:\r\n              <React.Fragment>\r\n                <Link component=\"button\" variant=\"span\" onClick={handleExpandClick}>Read {expanded?'less':'more'}</Link>\r\n                <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n                  <Typography paragraph>\r\n                    {props.row.paragraph}\r\n                  </Typography>\r\n                </Collapse>\r\n              </React.Fragment>\r\n            }\r\n          </CardContent>\r\n          {props.readingQRCode? null:\r\n            <DialogActions style={{paddingTop: 0}}>\r\n              {props.control.user.id!==props.row.creator_id? null:\r\n                <Button disabled={!props.row.editable} onClick={editForms} color=\"primary\">\r\n                  Edit\r\n                </Button>\r\n              }\r\n              <Button onClick={useForms} color=\"primary\">\r\n                Use\r\n              </Button>\r\n            </DialogActions>\r\n          }\r\n        </Card>\r\n      </Dialog>\r\n    </TableCell>\r\n  )\r\n}","import axios from 'axios';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport React from 'react';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport TocIcon from '@material-ui/icons/Toc';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport FormCard from './FormCard.js';\r\n\r\nexport default function UserTable(props){\r\n  const [table, setTable] = React.useState({\r\n    columns: [],\r\n    rows: [],\r\n    selectedColumns: [],\r\n    defaultColumns: [],\r\n    anchorSelect: null,\r\n    tab: 0,\r\n    search: '',\r\n    page: 0,\r\n    perPage: 5,\r\n    perPageOptions: [5, 10, 25, 100]\r\n  })\r\n  const changeTab=(event, newTab)=>{setTable({...table, tab: newTab})};\r\n  const changePage=(event, newPage)=>{setTable({...table, page: newPage})};\r\n  const changePerPage=(event)=>{setTable({...table, page: 0, perPage: +event.target.value})};\r\n  const changeSearch=(event)=>{setTable({...table, search: event.target.value})};\r\n  const openSelect=(event)=>{setTable({...table, anchorSelect: event.currentTarget})}\r\n  const closeSelect=()=>{setTable({...table, anchorSelect: null})}\r\n  const resetColumns=()=>{setTable({...table, selectedColumns: table.defaultColumns})}\r\n  function changeSelectedColumns(i){\r\n    let newSelected = table.selectedColumns\r\n    newSelected[i] = !newSelected[i]\r\n    setTable({...table, selectedColumns: newSelected})\r\n  }\r\n  const showResetButton=()=>{\r\n    for (var i = 0; i < table.selectedColumns.length; ++i) {\r\n      if(table.selectedColumns[i] !== table.defaultColumns[i]){\r\n        // console.log(table.selectedColumns[i],table.defaultColumns[i])\r\n        // return false\r\n      }\r\n      else{\r\n        // console.log(table.selectedColumns[i],table.defaultColumns[i])\r\n        // return false\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n  React.useEffect(() => {\r\n    const fetchData = async () => {\r\n      axios.get('/forms')\r\n      .then(function (response) {\r\n        alert(\"Sucess\");\r\n      })\r\n      .catch(function (error) {\r\n        let rows = props.example.rows;\r\n        let columns =  props.example.columns;\r\n        let favs = 0;\r\n        for(let i=0; i<rows.length; i++){\r\n          if(rows[i].favorite){\r\n            favs++\r\n          }\r\n        }\r\n        let defaultColumns = columns.filter(function(row){return row.default})\r\n        setTable({...table, columns: columns, selectedColumns: defaultColumns, defaultColumns: defaultColumns, rows: rows, favorites: favs})\r\n        // props.setAlert({open: true, text: \"Error in fetching rows\", severity: \"error\"})\r\n      })\r\n    }\r\n    const fetchUser = async () => {\r\n      props.setControl({...props.control, user: props.example.users[props.control.user.username]});\r\n    }\r\n    fetchData();\r\n    fetchUser();\r\n  }, [props.example]);\r\n  function handleFavorite(row){\r\n    // Make the API call\r\n    let userFavorites = props.control.user.favorites;\r\n    let index = userFavorites.indexOf(row.id);\r\n    if(index===-1){\r\n      userFavorites.push(row.id)\r\n    }\r\n    else{\r\n      userFavorites.splice(index, 1)\r\n    }\r\n    let newUsers = props.example.users;\r\n    newUsers[props.control.user.username].favorites = userFavorites;\r\n    props.setExample({...props.example, users: newUsers})\r\n  }\r\n  function textTab(){\r\n    switch(table.tab){\r\n      case 1: return 'Forms Favoris'\r\n      case 2: return 'Forms Recents'\r\n      case 3: return 'Mes Forms'\r\n      default: return 'Tous Forms'\r\n    }\r\n  }\r\n  function selectRows(){\r\n    let rows = []\r\n    if(table.tab===1){\r\n      rows = table.rows.filter(function(row){\r\n        return props.control.user.favorites.indexOf(row.id)!==-1;\r\n      })\r\n    }\r\n    else if(table.tab===2){\r\n      rows = table.rows.filter(function(row){\r\n        return row.id in props.control.user.recents;\r\n      })\r\n    }\r\n    else if(table.tab===3){\r\n      rows = table.rows.filter(function(row){\r\n        return props.control.user.created.indexOf(row.id)!==-1;\r\n      })\r\n    }\r\n    else{\r\n      rows = table.rows\r\n    }\r\n    if(table.search!==''){\r\n      rows = rows.filter(function(row){\r\n        for(let i=0;i<table.columns.length;i++){\r\n          if(table.selectedColumns[i] && row[table.columns[i].id].toString().toLowerCase().includes(table.search.toLowerCase())){\r\n            return true\r\n          }\r\n        }\r\n        return false\r\n      })\r\n    }\r\n    return rows\r\n  }\r\n  return (\r\n    <Grid item container direction=\"column\" justifyContent=\"center\" alignItems=\"center\" style={{paddingTop:'2rem'}}>\r\n      <Grid item>\r\n        <Tabs value={table.tab} onChange={changeTab} indicatorColor={table.tab===3?\"secondary\":\"primary\"} textColor={table.tab===3?\"secondary\":\"primary\"}>\r\n          <Tab label=\"Public\"/>\r\n          <Tab label={\"Favoris (\"+props.control.user.favorites.length+\")\"}/>\r\n          <Tab label=\"Récents\"/>\r\n          {!props.control.user.admin? null : <Tab label={\"Mes Forms (\"+props.control.user.created.length+\")\"}/>}\r\n        </Tabs>\r\n      </Grid>\r\n      <Grid item>\r\n        <Paper elevation={3}>\r\n          <Toolbar>\r\n            <Typography variant=\"h6\" id=\"tableTitle\" style={{flex: '1 1 100%'}}>\r\n              {textTab()} {table.search!==''?'(Searching)':null}\r\n            </Typography>\r\n            <Tooltip title=\"Search\">\r\n            <TextField onChange={changeSearch} InputProps={{startAdornment:(<InputAdornment position=\"start\"><SearchIcon /></InputAdornment>)}} placeholder=\"Search\" variant=\"outlined\"/>\r\n            </Tooltip>\r\n            <Tooltip title=\"Select Columns\">\r\n              <IconButton onClick={openSelect}>\r\n                <TocIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n            <Menu keepMounted anchorEl={table.anchorSelect} open={Boolean(table.anchorSelect)} onClose={closeSelect}>\r\n              {table.columns.map((column,i) => (\r\n                <ListItem key={column.id}>\r\n                  <FormControlLabel control={<Checkbox checked={table.selectedColumns[i]} onChange={()=>changeSelectedColumns(i)}/>} label={column.label}/>\r\n                </ListItem>\r\n              ))}\r\n                {showResetButton()?null:\r\n                  <MenuItem alignItems='center' onClick={resetColumns}>\r\n                    Reset to Default\r\n                  </MenuItem>\r\n                }\r\n            </Menu>\r\n          </Toolbar>\r\n          <TableContainer>\r\n            <Table>\r\n              <TableHead>\r\n                <TableRow>\r\n                  {table.columns.map((column,i) => {\r\n                    if(table.selectedColumns[i]) return(\r\n                      <TableCell key={column.id} align={column.align} style={{ minWidth: column.minWidth }}>\r\n                        <b>{column.label}</b>\r\n                      </TableCell>\r\n                    )\r\n                    else return null\r\n                  })}\r\n                  <TableCell />\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                {selectRows().slice(table.page*table.perPage, table.page*table.perPage+table.perPage).map((row) => {\r\n                  return(\r\n                    <TableRow hover role=\"checkbox\" tabIndex={-1} key={row.id}>\r\n                      {table.columns.map((column,i) => {\r\n                        if(table.selectedColumns[i]){\r\n                          if(column.id === 'favorite'){\r\n                            return(\r\n                              <TableCell key={column.id} align={column.align}>\r\n                                <IconButton onClick={()=>handleFavorite(row)}>\r\n                                  {props.control.user.favorites.indexOf(row.id)!==-1?<FavoriteIcon />:<FavoriteBorderIcon />}\r\n                                </IconButton>\r\n                              </TableCell>\r\n                            )\r\n                          }\r\n                          else if(column.id === 'last_updated'){\r\n                            return(\r\n                              <TableCell key={column.id} align={column.align}>\r\n                                {new Date(row[column.id]).toISOString().slice(0, 10)}\r\n                              </TableCell>\r\n                            )\r\n                          }\r\n                          else if(column.id === 'keywords'){\r\n                            return(\r\n                              <TableCell key={column.id} align={column.align}>\r\n                                {row[column.id].join(', ')}\r\n                              </TableCell>\r\n                            )\r\n                          }\r\n                          else{\r\n                            return(\r\n                              <TableCell key={column.id} align={column.align}>\r\n                                {row[column.id]}\r\n                              </TableCell>\r\n                            )\r\n                          }\r\n                        }\r\n                        else return null\r\n                      })}\r\n                      <FormCard {...props} row={row}/>\r\n                    </TableRow>\r\n                  )})}\r\n              </TableBody>\r\n            </Table>\r\n          </TableContainer>\r\n          <TablePagination rowsPerPageOptions={table.perPageOptions} component=\"div\" count={selectRows().length} rowsPerPage={table.perPage} page={table.page} onPageChange={changePage} onRowsPerPageChange={changePerPage}/>\r\n        </Paper>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}","import Avatar from '@material-ui/core/Avatar';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Chip from '@material-ui/core/Chip';\r\n\r\n\r\nimport CreateIcon from '@material-ui/icons/Create';\r\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\r\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\r\nimport WorkOutlineIcon from '@material-ui/icons/WorkOutline';\r\nimport SchoolIcon from '@material-ui/icons/School';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  toolbar: {\r\n      borderBottom: `1px solid ${theme.palette.divider}`,\r\n  },\r\n  admin: {\r\n    color:theme.palette.secondary.main,\r\n    fontSize:20\r\n  },\r\n  user: {\r\n    color:theme.palette.primary.main,\r\n    fontSize:20\r\n  }\r\n}));\r\n\r\nexport default function UserCard(props){\r\n  const classes = useStyles();\r\n  function getChipIcon(chip){\r\n    switch(chip.type){\r\n      case 'work': return <WorkOutlineIcon /> \r\n      case 'study': return <SchoolIcon /> \r\n      case 'favorites': return <FavoriteBorderIcon /> \r\n      case 'created': return <CreateIcon /> \r\n      default: return <HelpOutlineIcon /> \r\n    }\r\n  }\r\n  function getChipLabel(chip){\r\n    switch(chip.type){\r\n      case 'favorites': return props.control.user.favorites.length + ' Favoris'\r\n      case 'created': return props.control.user.created.length + ' Crées'\r\n      default: return chip.label\r\n    }\r\n  }\r\n  function getChipColor(chip){\r\n    if(chip.type==='created')\r\n      return 'secondary'\r\n    return 'primary'\r\n  }\r\n  return (\r\n    <Grid item xs={7} style={{width: '100%'}}>\r\n      <Paper elevation={3} style={{padding:'1rem'}}>\r\n        <Grid xs={12} container direction=\"column\" justifyContent=\"flex-start\" alignItems=\"stretch\">\r\n          <Grid xs={12} spacing={2} item container direction=\"row\" justifyContent=\"flex-start\" alignItems=\"stretch\" className={classes.toolbar}>\r\n            <Grid item xs={2}>\r\n              <Avatar variant=\"rounded\" alt=\"Avatar\" src={props.control.user.avatar} style={{width:'100%',height:'100%'}}/>\r\n            </Grid>\r\n            <Grid item xs={8}>\r\n              <Typography variant=\"h4\">\r\n                {props.control.user.firstname} {props.control.user.lastname}\r\n              </Typography>\r\n              <Typography variant=\"subtitle1\">\r\n                {props.control.user.description}\r\n              </Typography>\r\n            </Grid>\r\n            <Grid item xs={2}>\r\n              <Typography variant=\"overline\" component=\"h1\" className={props.control.user.admin?classes.admin:classes.user}>\r\n                {props.control.user.admin?'Admin':'User'}\r\n              </Typography>\r\n              <Typography variant=\"caption\" component=\"h1\">\r\n                Inscrit en {props.control.user.joined.substring(0,4)}\r\n              </Typography>\r\n              <Typography variant=\"caption\" component=\"h1\">\r\n                Dernier Accès {new Date().toISOString().slice(0, 10)===props.control.user.last_seen?'today':props.control.user.last_seen}\r\n              </Typography>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid item xs={12} style={{paddingTop:'1rem'}}>\r\n            {props.control.user.chips.map((chip) => (\r\n               <Chip key={chip.label} icon={getChipIcon(chip)} variant=\"outlined\" label={getChipLabel(chip)} color={getChipColor(chip)}/>\r\n            ))}\r\n          </Grid>\r\n        </Grid>\r\n      </Paper>\r\n    </Grid>\r\n  )\r\n}","import Button from '@material-ui/core/Button';\r\nimport CropFreeIcon from '@material-ui/icons/CropFree';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport React from 'react';\r\n\r\nimport UserTable from './UserTable.js'\r\nimport UserCard from './UserCard.js'\r\n\r\nexport default function User(props){\r\n  const goCreate=()=>{\r\n    props.setControl({...props.control, tempData: {}, formID: null, view:'creator'})\r\n  }\r\n  return (\r\n    <Grid container direction=\"column\" justifyContent=\"center\" alignItems=\"center\" xs={12} spacing={2} style={{marginTop: '2rem', }}>\r\n      <UserCard {...props}/>\r\n      <UserTable {...props}/>\r\n      <Grid item xs={12}>\r\n        <Button variant=\"contained\" color=\"primary\" startIcon={<CropFreeIcon />} onClick={()=>props.setView('readqr')}>\r\n          Lire QRCode\r\n        </Button>\r\n      </Grid>\r\n      {!props.control.user.admin? null:\r\n        <Grid item={true} xs={12}>\r\n          <Button onClick={goCreate} variant=\"contained\" size=\"large\" color=\"secondary\">\r\n            Creer Formulaire\r\n          </Button>\r\n        </Grid>\r\n      }\r\n    </Grid>\r\n  )\r\n}","import Button from '@material-ui/core/Button';\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport React from 'react';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport html2canvas from 'html2canvas';\r\nimport JoditEditor from \"jodit-react\";\r\nimport QRCode from 'qrcode.react'\r\nimport InlineSVG from 'svg-inline-react';\r\nimport { jsPDF } from 'jspdf';\r\nimport ReactHtmlParser from 'react-html-parser';\r\nconst YAML = require('json-to-pretty-yaml');\r\n\r\nconst HTMLTemp = \"<html><head><meta content=\\\"text/html; charset=UTF-8\\\" http-equiv=\\\"content-type\\\"><style type=\\\"text/css\\\">@import url('https://themes.googleusercontent.com/fonts/css?kit=xTOoZr6X-i3kNg7pYrzMsnEzyYBuwf3lO_Sc3Mw9RUVbV0WvE1cEyAoIq5yYZlSc');.lst-kix_jgyitmidw11o-1>li:before{content:\\\"\\\\0025cb  \\\"}ul.lst-kix_jgyitmidw11o-8{list-style-type:none}.lst-kix_jgyitmidw11o-2>li:before{content:\\\"\\\\0025a0  \\\"}.lst-kix_jgyitmidw11o-7>li:before{content:\\\"\\\\0025cb  \\\"}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}.lst-kix_jgyitmidw11o-0>li:before{content:\\\"\\\\0025cf  \\\"}.lst-kix_jgyitmidw11o-8>li:before{content:\\\"\\\\0025a0  \\\"}.lst-kix_jgyitmidw11o-6>li:before{content:\\\"\\\\0025cf  \\\"}ul.lst-kix_jgyitmidw11o-2{list-style-type:none}.lst-kix_jgyitmidw11o-5>li:before{content:\\\"\\\\0025a0  \\\"}ul.lst-kix_jgyitmidw11o-3{list-style-type:none}ul.lst-kix_jgyitmidw11o-0{list-style-type:none}ul.lst-kix_jgyitmidw11o-1{list-style-type:none}.lst-kix_jgyitmidw11o-3>li:before{content:\\\"\\\\0025cf  \\\"}ul.lst-kix_jgyitmidw11o-6{list-style-type:none}ul.lst-kix_jgyitmidw11o-7{list-style-type:none}.lst-kix_jgyitmidw11o-4>li:before{content:\\\"\\\\0025cb  \\\"}ul.lst-kix_jgyitmidw11o-4{list-style-type:none}ul.lst-kix_jgyitmidw11o-5{list-style-type:none}ol{margin:0;padding:0}table td,table th{padding:0}.c20{border-right-style:solid;padding:3.6pt 3.6pt 3.6pt 3.6pt;border-bottom-color:#ffffff;border-top-width:0pt;border-right-width:0pt;border-left-color:#ffffff;vertical-align:top;border-right-color:#ffffff;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:162pt;border-top-color:#ffffff;border-bottom-style:solid}.c17{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#ffffff;border-top-width:0pt;border-right-width:0pt;border-left-color:#ffffff;vertical-align:top;border-right-color:#ffffff;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:444.8pt;border-top-color:#ffffff;border-bottom-style:solid}.c7{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:13pt;font-family:\\\"Lato\\\";font-style:normal}.c16{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:\\\"Raleway\\\";font-style:normal}.c9{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:10pt;font-family:\\\"Lato\\\";font-style:normal}.c5{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:13pt;font-family:\\\"Lato\\\";font-style:normal}.c12{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:\\\"Lato\\\";font-style:normal}.c0{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:6pt;font-family:\\\"Lato\\\";font-style:normal}.c26{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10pt;font-family:\\\"Lato\\\";font-style:normal}.c19{color:#f2511b;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:16pt;font-family:\\\"Raleway\\\";font-style:normal}.c15{margin-left:36pt;padding-top:10pt;padding-left:0pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c25{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-family:\\\"Raleway\\\";font-style:normal}.c32{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline}.c28{padding-top:0pt;padding-bottom:0pt;line-height:1.15;text-align:left}.c21{padding-top:3pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c2{border-spacing:0;border-collapse:collapse;margin-right:auto}.c1{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c14{padding-top:6pt;padding-bottom:0pt;line-height:1.15;text-align:left}.c6{padding-top:4pt;padding-bottom:0pt;line-height:1.15;text-align:left}.c11{background-color:#ffffff;max-width:612pt;padding:0pt 0pt 0pt 0pt}.c3{orphans:2;widows:2}.c10{padding:0;margin:0}.c31{color:inherit;text-decoration:inherit}.c13{font-size:13pt;font-weight:700}.c8{font-size:14pt;font-weight:700}.c4{height:11pt}.c27{font-size:24pt}.c23{font-size:15pt}.c24{height:120pt}.c29{page-break-after:avoid}.c18{height:265pt}.c22{font-size:13pt}.c30{height:72pt}.title{padding-top:6pt;color:#000000;font-weight:700;font-size:24pt;padding-bottom:0pt;font-family:\\\"Raleway\\\";line-height:1.0;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:3pt;color:#f2511b;font-weight:700;font-size:16pt;padding-bottom:0pt;font-family:\\\"Raleway\\\";line-height:1.0;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:\\\"Lato\\\"}p{margin:0;color:#000000;font-size:11pt;font-family:\\\"Lato\\\"}h1{padding-top:4pt;color:#000000;font-weight:700;font-size:12pt;padding-bottom:0pt;font-family:\\\"Raleway\\\";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:6pt;color:#000000;font-weight:700;font-size:11pt;padding-bottom:0pt;font-family:\\\"Lato\\\";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:6pt;color:#666666;font-size:9pt;padding-bottom:0pt;font-family:\\\"Lato\\\";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:8pt;-webkit-text-decoration-skip:none;color:#666666;text-decoration:underline;font-size:11pt;padding-bottom:0pt;line-height:1.15;page-break-after:avoid;text-decoration-skip-ink:none;font-family:\\\"Trebuchet MS\\\";orphans:2;widows:2;text-align:left}h5{padding-top:8pt;color:#666666;font-size:11pt;padding-bottom:0pt;font-family:\\\"Trebuchet MS\\\";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:8pt;color:#666666;font-size:11pt;padding-bottom:0pt;font-family:\\\"Trebuchet MS\\\";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class=\\\"c11\\\"><p class=\\\"c28 c4\\\"><span class=\\\"c0\\\"></span></p><a id=\\\"t.8caa01fcb34e023ebdd45df42287a8eb1b170e26\\\"></a><a id=\\\"t.0\\\"></a><table class=\\\"c2\\\"><tbody><tr class=\\\"c24\\\"><td class=\\\"c20\\\" colspan=\\\"1\\\" rowspan=\\\"3\\\"><p class=\\\"c1 c29 title\\\" id=\\\"h.4prkjmzco10w\\\"><span>ISARVIT</span></p><p class=\\\"c21 subtitle\\\" id=\\\"h.o2iwx3vdck7p\\\"><span class=\\\"c19\\\">Cabinet m&eacute;dical</span></p><p class=\\\"c1\\\"><span class=\\\"c8\\\">&#12641;</span></p><h1 class=\\\"c6\\\" id=\\\"h.61e3cm1p1fln\\\"><span>Docteur</span></h1><p class=\\\"c1 c3\\\"><span class=\\\"c12\\\">Andreis Purim</span></p><p class=\\\"c1 c3 c4\\\"><span class=\\\"c12\\\"></span></p><h1 class=\\\"c6\\\" id=\\\"h.2scikwdztcso\\\"><span class=\\\"c16\\\">Docteur</span></h1><p class=\\\"c1 c3\\\"><span class=\\\"c12\\\">Joel Kalil</span></p><p class=\\\"c1\\\"><span class=\\\"c8\\\">&#12641;</span></p><h1 class=\\\"c6\\\" id=\\\"h.gbnhrfggwdei\\\"><span>Technicien</span></h1><p class=\\\"c1 c3\\\"><span class=\\\"c12\\\">Anthony Aug&eacute;</span></p><h1 class=\\\"c6\\\" id=\\\"h.tuqgnx7na2e5\\\"><span class=\\\"c16\\\">Technicien</span></h1><p class=\\\"c1 c3\\\"><span class=\\\"c12\\\">Colin Prudhomme</span></p><p class=\\\"c1 c3 c4\\\"><span class=\\\"c12\\\"></span></p><p class=\\\"c1 c3 c4\\\"><span class=\\\"c12\\\"></span></p><h1 class=\\\"c6\\\" id=\\\"h.2s45zonv4wip\\\"><span class=\\\"c16\\\">Technicien</span></h1><p class=\\\"c1 c3\\\"><span class=\\\"c12\\\">Lien du cabinet m&eacute;dical:</span></p><p class=\\\"c1 c3\\\"><span class=\\\"c32\\\"><a class=\\\"c31\\\" href=\\\"https://www.google.com/url?q=https://github.com/ISARVIT&amp;sa=D&amp;source=editors&amp;ust=1644182629369253&amp;usg=AOvVaw21IVOgXkkXvxbSXU56Nxox\\\">ISARVIT</a></span></p><p class=\\\"c1 c3 c4\\\"><span class=\\\"c12\\\"></span></p><h1 class=\\\"c6\\\" id=\\\"h.n2weeiexjv4e\\\"><span class=\\\"c16\\\">Signature Eletronique</span></h1><p class=\\\"c1 c3\\\"><span>ASB123</span></p></td><td class=\\\"c17\\\" colspan=\\\"1\\\" rowspan=\\\"3\\\"><h1 class=\\\"c14\\\" id=\\\"h.lf5wiiqsu4ub\\\"><span class=\\\"c23\\\">ID21340005</span></h1><p class=\\\"c1\\\"><span class=\\\"c7\\\">Patient Andreis PURIM, n&eacute;e le 07/04/1999 &nbsp;est venu &agrave; notre cabinet m&eacute;dical pour chercher une radiologie en lithiase.</span></p><p class=\\\"c1 c4\\\"><span class=\\\"c7\\\"></span></p><p class=\\\"c1\\\"><span class=\\\"c7\\\">Apr&egrave;s avis du m&eacute;decin g&eacute;n&eacute;raliste, nous avons d&eacute;cid&eacute; de r&eacute;aliser un CT Scan avec produit de contraste IV.</span></p><p class=\\\"c1 c4\\\"><span class=\\\"c7\\\"></span></p><p class=\\\"c1\\\"><span class=\\\"c7\\\">Le patient &eacute;tait f&eacute;brile au moment de l&#39;examen et nous avons trouv&eacute; la radiologie en phase aigu&euml;.</span></p><p class=\\\"c1 c4\\\"><span class=\\\"c7\\\"></span></p><p class=\\\"c1\\\"><span class=\\\"c22\\\">Il a eu une d&eacute;rivation des voies urinaires &agrave; la place de l&#39;examen</span></p><ul class=\\\"c10 lst-kix_jgyitmidw11o-0 start\\\"><li class=\\\"c15 li-bullet-0\\\"><span class=\\\"c5\\\">Anomalie h&eacute;patique d&eacute;tect&eacute;e</span></li><li class=\\\"c15 li-bullet-0\\\"><span class=\\\"c13\\\">Anomalie des surr&eacute;nales non d&eacute;tect&eacute;e</span></li></ul></td></tr><tr class=\\\"c30\\\"></tr><tr class=\\\"c18\\\"></tr></tbody></table><p class=\\\"c3 c4 c28\\\"><span class=\\\"c12\\\"></span></p></body></html>\";\r\n\r\n\r\nexport default function Download(props){\r\n  const editor = React.useRef(null)\r\n  const config = {height: \"100%\", toolbarAdaptive: false, readonly: false}\r\n  const [edit,setEdit]=React.useState(0)\r\n  function getOrgans(){\r\n    return props.answers.questions.svg.organs.map(organ=>organ.length!==1?organ[(Math.random()<0.5)|0]:organ[0]).join('')\r\n  }\r\n  const [organs, setOrgans] = React.useState( getOrgans());\r\n  function generateQRCode(){\r\n    return YAML.stringify({formID: props.control.formID, user: props.control.user.username, date: new Date().toISOString().slice(0, 10), answers: props.answers.answers})\r\n  }\r\n  function getTemplate(){\r\n    let answers = []\r\n    for (var key in props.answers.answers) {\r\n      if(props.answers.answers.hasOwnProperty(key)) {\r\n        answers.push( [ key, props.answers.answers[key] ] );\r\n      }\r\n    }\r\n    // return HTMLTemp;\r\n    return answers.map(answer=>{\r\n      if(answer[0] in props.answers.questions.template){\r\n        let this_template = props.answers.questions.template[answer[0]]\r\n        if(this_template.complete){\r\n          return '<p>'+this_template.begin+answer[0]+this_template.end+'</p>'\r\n        }\r\n        else{\r\n          return '<p>'+this_template[answer[1]]+'</p>'\r\n        } \r\n      }\r\n      else if(props.control.formID===0){\r\n        return Math.random()<0.5?'<p>User has chosen '+answer[1]+' in the variable '+answer[0]+'</p>':'<p>The answer to '+answer[0]+' was '+answer[1]+'</p>'\r\n      }\r\n      else{\r\n        return '<p>Answer to '+answer[1]+' is '+answer[0]+'</p>'\r\n      }\r\n    }).join(\"\")\r\n  }\r\n  const handleChange=(newContent)=>{\r\n    props.setCreator({...props.creator, template: newContent})\r\n  }\r\n  const svgSource = props.answers.questions.svg.begin + organs + props.answers.questions.svg.end\r\n  function download(text){\r\n    const input = document.getElementById('divToPrint')\r\n    html2canvas(input).then((canvas) => {\r\n      const imgData = canvas.toDataURL('image/png');\r\n      const pdf = new jsPDF();\r\n      pdf.addImage(imgData, 'JPEG', 0, 0);\r\n      let filename = \"FormID_\"+props.control.formID+\"_by_\"+props.control.user.username+\"_\"+new Date().getTime();\r\n      pdf.save(filename);\r\n    });\r\n  }\r\n  return(\r\n    <Grid container direction=\"column\" justifyContent=\"center\" alignItems=\"center\" xs={12} spacing={2}>\r\n      <Grid item>\r\n        <ButtonGroup size=\"large\" color=\"primary\">\r\n          <Button value={edit} onClick={()=>setEdit(1)}>Editer</Button>\r\n          {edit===0?<Button onClick={download}>Sauvegarder</Button>\r\n          :<Button onClick={()=>setEdit(0)}>Regarder PDF</Button>}\r\n          <Button onClick={()=>setEdit(2)}>QRCode</Button>\r\n        </ButtonGroup>\r\n      </Grid>\r\n      <Grid item>\r\n        {edit===0?\r\n          <Paper elevation={5}>\r\n          <div id='divToPrint' style={{backgroundColor: '#FFF', width: '210mm', minHeight: '297mm', marginLeft: 'auto', marginRight: 'auto', padding:'2rem'}}>\r\n            {/* <p>ID : {props.answers.answers.identifier} Prénom : {props.answers.answers.patient_first_name} Nom : {props.answers.answers.patient_last_name} Date de naissance : {props.answers.answers.patient_birth}</p> */}\r\n            <h1 style={{textAlign:'center'}}>URINARY / SCANNER ABDOMINO-PELVIEN</h1>\r\n            <div style={{display: 'flex', justifyContent: 'center'}}>\r\n              <QRCode value={generateQRCode()}/>\r\n              <InlineSVG src={svgSource}/>\r\n            </div>\r\n            <hr/>\r\n            {/* {ReactHtmlParser(getTemplate())} */}\r\n            {/* <p> Examen : Radiography Réalisé le : {new Date().toLocaleDateString('fr-FR')} </p>  */}\r\n            { ReactHtmlParser(getTemplate()) }\r\n            </div>\r\n          </Paper>\r\n        :edit===2?\r\n          <QRCode value={generateQRCode()} size={750}/>\r\n        :\r\n          <Paper elevation={3} style={{width: '210mm', height: '297mm'}}>\r\n            <JoditEditor ref={editor} value={getTemplate()} config={config} tabIndex={1} />\r\n          </Paper>\r\n          \r\n        }\r\n      </Grid>\r\n    </Grid>\r\n  )\r\n}\r\n\r\n\r\n\r\n","import Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport React from 'react';\r\nimport Step from '@material-ui/core/Step';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\n\r\nimport Survey from \"material-survey/components/Survey\"\r\nimport Download from './Download.js';\r\n\r\nexport default function Form(props){\r\n  console.log(props.control.tempData)\r\n  const [answers, setAnswers] = React.useState({\r\n    step: 0,\r\n    answers: {...props.control.tempData},\r\n    questions: props.example.forms[props.control.formID].formatted,\r\n  });\r\n  const saveAnswers=(newAnswers)=>{\r\n    setAnswers({...answers, step:1, answers: newAnswers})\r\n  }\r\n  const back=()=>{\r\n    if(answers.step){\r\n      setAnswers({...answers, step: answers.step-1})\r\n    }\r\n    else{\r\n      props.setControl({...props.control, view: 'user'})\r\n    }\r\n  }\r\n  const sendExtraProps = {...props, answers, setAnswers}\r\n  return (\r\n    <Grid container direction=\"column\" justifyContent=\"center\" alignItems=\"center\" xs={12} spacing={2} style={{marginTop: '2rem', }}>\r\n      <Grid item xs={3} style={{width: '100%'}}>\r\n        <Stepper activeStep={answers.step} alternativeLabel style={{ backgroundColor: \"transparent\" }}>\r\n          <Step><StepLabel>Answer Forms</StepLabel></Step>\r\n          <Step><StepLabel>Verify and Download</StepLabel></Step>\r\n        </Stepper>\r\n      </Grid>\r\n      <Grid item xs={12}>\r\n        <Button variant=\"contained\" color=\"primary\" size=\"small\" onClick={back}>{answers.step?'Back':'Cancel'}</Button>\r\n      </Grid>\r\n      {answers.step?\r\n        <Download {...sendExtraProps} />\r\n      :\r\n        <Grid item xs={12}>\r\n          <Survey form={answers.questions} defaultAnswers={answers.answers} autocompleteRequest={function noRefCheck() {}} onFinish={saveAnswers}/>\r\n        </Grid>\r\n      }\r\n    </Grid>\r\n  )\r\n} ","\r\nimport Box from '@material-ui/core/Box';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport React from 'react';\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Select from '@material-ui/core/Select';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport DragHandleIcon from '@material-ui/icons/DragHandle';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Input from '@material-ui/core/Input';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport RootRef from '@material-ui/core/RootRef';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\r\n\r\nimport Link from '@material-ui/core/Link';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\n\r\nimport TextFieldsIcon from '@material-ui/icons/TextFields';\r\nimport ControlPointIcon from '@material-ui/icons/ControlPoint';\r\n\r\nimport ExposurePlus2Icon from '@material-ui/icons/ExposurePlus2';\r\nimport EventIcon from '@material-ui/icons/Event';\r\nimport RadioButtonCheckedIcon from '@material-ui/icons/RadioButtonChecked';\r\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\r\n\r\nimport RadioButtonUncheckedIcon from '@material-ui/icons/RadioButtonUnchecked';\r\nimport CheckBoxOutlineBlankIcon from '@material-ui/icons/CheckBoxOutlineBlank';\r\nimport LoopIcon from '@material-ui/icons/Loop';\r\nimport PostAddIcon from '@material-ui/icons/PostAdd';\r\n\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport DragIndicatorIcon from '@material-ui/icons/DragIndicator';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst typeOptions = [\r\n  {label: 'Text', icon: <TextFieldsIcon/>},\r\n  {label: 'Number', icon: <ExposurePlus2Icon/>},\r\n  {label: 'Choice', icon: <RadioButtonCheckedIcon/>},\r\n  {label: 'Multiple Choice', icon: <CheckBoxIcon/>},\r\n]\r\nconst otherOptions = [\r\n  {label: 'Page', icon: <PostAddIcon/>},\r\n  {label: 'Loop', icon: <LoopIcon/>},\r\n]\r\n\r\nconst otherOptionsSet = new Set(otherOptions.map(option=>option.label))\r\nfunction checkOther(type){\r\n  return otherOptionsSet.has(type)\r\n}\r\n\r\nfunction Question(props) {\r\n  const deleteQuestion=(event)=>{\r\n    event.preventDefault();\r\n    let newQuestions = props.creator.questions\r\n    newQuestions.splice(props.creator.questions.indexOf(props.question), 1)\r\n    props.setCreator({...props.creator, questions: newQuestions})\r\n  }\r\n  const changeQuestion=(event)=>{\r\n    let newQuestions = props.creator.questions\r\n    let newVariable = event.target.value.toLowerCase().replace(/\\s/g, '_').replace(/[^a-z0-9_]/gi,'');\r\n    newQuestions[props.creator.questions.indexOf(props.question)].questionLabel = event.target.value\r\n    newQuestions[props.creator.questions.indexOf(props.question)].variable = newVariable\r\n    props.setCreator({...props.creator, questions: newQuestions})\r\n  }\r\n  const changeVariable=(event)=>{\r\n    let treatedText = event.target.value.replace(/[^a-z0-9_]/gi,'');\r\n    let newQuestions = props.creator.questions\r\n    newQuestions[props.creator.questions.indexOf(props.question)].variable = treatedText\r\n    props.setCreator({...props.creator, questions: newQuestions})\r\n  }\r\n  const changeType=(event)=>{\r\n    let newQuestions = props.creator.questions\r\n    // Resets information except if its choice <-> multiple choice, then conserves choice vector.\r\n    let newChoices = []\r\n    let varName = props.question.variable\r\n    if(props.question.type==='Choice'||props.question.type==='Multiple Choice'){\r\n      newChoices = newQuestions[props.creator.questions.indexOf(props.question)].choices\r\n    }\r\n    if(event.target.value==='Loop'){\r\n      varName = 'loopID_'+props.question.questionID\r\n    }\r\n    else if(event.target.value==='Page'){\r\n      varName = 'pageID_'+props.question.questionID\r\n    }\r\n    newQuestions[props.creator.questions.indexOf(props.question)] = {...newQuestions[props.creator.questions.indexOf(props.question)], type:event.target.value, variable: varName, loopvar: false,  default: null, min: null, max: null, others: false, qchoices: 0, choices: newChoices};\r\n    props.setCreator({...props.creator, questions: newQuestions})\r\n  }\r\n  const changeRequired=(event)=>{\r\n    let newQuestions = props.creator.questions\r\n    newQuestions[props.creator.questions.indexOf(props.question)].required = event.target.checked\r\n    props.setCreator({...props.creator, questions: newQuestions})\r\n  }\r\n  const addOthers=()=>{\r\n    let newQuestions = props.creator.questions\r\n    newQuestions[props.creator.questions.indexOf(props.question)].others = true\r\n    props.setCreator({...props.creator, questions: newQuestions})\r\n  }\r\n  const changeDefault=(event,type,choiceID)=>{\r\n    let newQuestions = props.creator.questions\r\n    if(event.target.value!==''){\r\n      if(type==='Number'){\r\n        if(!isNaN(Number(event.target.value))){\r\n          newQuestions[props.creator.questions.indexOf(props.question)].default = Number(event.target.value);\r\n        }\r\n      }\r\n      else if(type==='Choice'){\r\n        if(newQuestions[props.creator.questions.indexOf(props.question)].default === Number(choiceID)){\r\n          newQuestions[props.creator.questions.indexOf(props.question)].default = null;\r\n        }\r\n        else{\r\n          newQuestions[props.creator.questions.indexOf(props.question)].default = Number(choiceID);\r\n        }\r\n      }\r\n      else if(type==='Multiple Choice'){\r\n        if(newQuestions[props.creator.questions.indexOf(props.question)].default === null){\r\n          newQuestions[props.creator.questions.indexOf(props.question)].default = (new Set()).add(choiceID)\r\n        }\r\n        else if(newQuestions[props.creator.questions.indexOf(props.question)].default.has(choiceID)){\r\n          newQuestions[props.creator.questions.indexOf(props.question)].default.delete(choiceID)\r\n        }\r\n        else{\r\n          newQuestions[props.creator.questions.indexOf(props.question)].default.add(choiceID)\r\n        }\r\n      }\r\n      else if(type==='Text'){\r\n        newQuestions[props.creator.questions.indexOf(props.question)].default = event.target.value;\r\n      }\r\n    }\r\n    else{\r\n      newQuestions[props.creator.questions.indexOf(props.question)].default = null;\r\n    }\r\n    props.setCreator({...props.creator, questions: newQuestions})\r\n  }\r\n  const removeOthers=()=>{\r\n    let newQuestions = props.creator.questions\r\n    newQuestions[props.creator.questions.indexOf(props.question)].others = false\r\n    props.setCreator({...props.creator, questions: newQuestions})\r\n  }\r\n  const changeLoopvar=(event)=>{\r\n    let newQuestions = props.creator.questions\r\n    newQuestions[props.creator.questions.indexOf(props.question)].loopvar = event.target.value;\r\n    props.setCreator({...props.creator, questions: newQuestions})\r\n  }\r\n  const changeMinMax=(event)=>{\r\n    let newQuestions = props.creator.questions\r\n    if(event.target.value!==''){\r\n      newQuestions[props.creator.questions.indexOf(props.question)][event.target.name] = event.target.value;\r\n    }\r\n    else{\r\n      newQuestions[props.creator.questions.indexOf(props.question)][event.target.name] = null\r\n    }\r\n    props.setCreator({...props.creator, questions: newQuestions})\r\n  }\r\n  const addChoice=()=>{\r\n    let newQuestions = props.creator.questions;\r\n    let index = newQuestions.indexOf(props.question);\r\n    let newChoice = {choiceID: newQuestions[index].qchoices, dragID: newQuestions[index].qchoices.toString(), text:'Option '+newQuestions[index].qchoices};\r\n    newQuestions[index].choices.push(newChoice);\r\n    newQuestions[index].qchoices = newQuestions[index].qchoices+1;\r\n    props.setCreator({...props.creator, questions: newQuestions})\r\n  }\r\n  function deleteChoice(choice,event){\r\n    let newQuestions = props.creator.questions\r\n    let index = props.creator.questions.indexOf(props.question)\r\n    newQuestions[index].choices.splice(newQuestions[index].choices.indexOf(choice), 1)\r\n    props.setCreator({...props.creator, questions: newQuestions})\r\n  }\r\n  function changeChoice(choice,event){\r\n    let newQuestions = props.creator.questions\r\n    let questionIndex = newQuestions.indexOf(props.question)\r\n    let choiceIndex = newQuestions[questionIndex].choices.indexOf(choice)\r\n    newQuestions[questionIndex].choices[choiceIndex].text = event.target.value\r\n    props.setCreator({...props.creator, questions: newQuestions})\r\n  }\r\n  const reorder = (list, startIndex, endIndex) => {\r\n    const result = Array.from(list);\r\n    const [removed] = result.splice(startIndex, 1);\r\n    result.splice(endIndex, 0, removed);\r\n    return result;\r\n  };\r\n  function onDragEnd(result) {\r\n    if(!result.destination){return}\r\n    if(result.destination.index === result.source.index){return}\r\n    let newQuestions = props.creator.questions;\r\n    let index = newQuestions.indexOf(props.question);\r\n    newQuestions[index].choices = reorder(newQuestions[index].choices,result.source.index,result.destination.index);\r\n    props.setCreator({...props.creator, questions: newQuestions});\r\n  }\r\n  return (\r\n    <Draggable draggableId={props.question.dragID} index={props.index}>\r\n      {provided => (\r\n        <Grid item xs={12} ref={provided.innerRef} {...provided.draggableProps}>\r\n          <Paper elevation={checkOther(props.question.type)?0:3} style={checkOther(props.question.type)?{backgroundColor:'transparent'}:null}>\r\n            <Grid xs={12} container direction=\"column\" justifyContent=\"flex-start\" alignItems=\"stretch\"  style={{padding:'0 2rem 0 2rem'}}>\r\n              <Grid item {...provided.dragHandleProps} style={{marginLeft:'auto',marginRight:'auto',minHeight:'2rem'}}>\r\n                <DragHandleIcon />\r\n              </Grid>\r\n              <Grid item xs={12} container direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\r\n                <Grid item xs={9} style={{paddingRight:'3rem'}}>\r\n                  <TextField fullWidth placeholder={props.question.type===\"Page\"?\"Page Title\":props.question.type===\"Loop\"?\"Loop Title\":\"Question\"} value={props.question.questionLabel} onChange={changeQuestion} variant=\"outlined\" />\r\n                </Grid>\r\n                <Grid item xs={3}>\r\n                  <FormControl variant=\"outlined\" fullWidth>\r\n                    <Select value={props.question.type} onChange={changeType} renderValue={(selected)=>selected}>\r\n                      <MenuItem value=\"\" disabled>\r\n                        Input\r\n                      </MenuItem>\r\n                      {typeOptions.map(type=>\r\n                        <MenuItem key={type.label} value={type.label}>\r\n                          <ListItemIcon>\r\n                            {type.icon}\r\n                          </ListItemIcon>\r\n                          <ListItemText primary={type.label}/>\r\n                        </MenuItem>\r\n                      )}\r\n                      <MenuItem value=\"others\" disabled>\r\n                        Others\r\n                      </MenuItem>\r\n                      {otherOptions.map(type=>\r\n                        <MenuItem key={type.label} value={type.label}>\r\n                          <ListItemIcon>\r\n                            {type.icon}\r\n                          </ListItemIcon>\r\n                          <ListItemText primary={type.label}/>\r\n                        </MenuItem>\r\n                      )}\r\n                    </Select>\r\n                  </FormControl>\r\n                </Grid>\r\n              </Grid>\r\n              <Grid item xs={12} spacing={1} container direction=\"row\" justifyContent=\"flex-start\" alignItems=\"center\" style={{padding:'1rem 0 1rem 0'}}>\r\n                {props.question.type==='Loop'?\r\n                  <React.Fragment>\r\n                    <Grid item xs={3}>\r\n                      <FormControlLabel value=\"start\" control={<Switch color=\"primary\" value={props.question.required} onChange={changeRequired} />} label={props.question.required?\"Variable\":\"Range\"} labelPlacement=\"end\"/>\r\n                    </Grid>\r\n                    <Grid item xs={3}>\r\n                      {props.question.required?\r\n                        <Select fullWidth value={props.question.loopvar} onChange={changeLoopvar}>\r\n                          {props.creator.questions.slice(0,props.creator.questions.indexOf(props.question)).map(question=>\r\n                            <MenuItem key={question.questionID} value={question.questionID}>\r\n                              <ListItemText primary={question.variable}/>\r\n                            </MenuItem>\r\n                          )}\r\n                        </Select>\r\n                      :\r\n                        <Input fullWidth value={props.question.max} name=\"max\" onChange={changeMinMax} type=\"number\" placeholder=\"Number of times\"/>\r\n                      }\r\n                    </Grid>\r\n                  </React.Fragment>\r\n                :props.question.type==='Number'?\r\n                  <React.Fragment>\r\n                    <Grid item xs={3}>\r\n                      <Input fullWidth value={props.question.min} name=\"min\" onChange={changeMinMax} type=\"number\" placeholder=\"No min\"/>\r\n                    </Grid>\r\n                    <Grid item xs={3}>\r\n                      <Input fullWidth value={props.question.max} name=\"max\" onChange={changeMinMax} type=\"number\" placeholder=\"No max\"/>\r\n                    </Grid>\r\n                    <Grid item xs={6}/>\r\n                    <Grid item xs={6}>\r\n                      <Input fullWidth value={props.question.default} onChange={(event)=>changeDefault(event,props.question.type,-1)} type=\"number\" placeholder=\"Default\"/>\r\n                    </Grid>\r\n                  </React.Fragment>\r\n                :props.question.type==='Text'?\r\n                  <Grid item xs={6}>\r\n                    <TextField fullWidth value={props.question.default} onChange={(event)=>changeDefault(event,props.question.type,-1)} placeholder=\"Default\"/>\r\n                  </Grid>\r\n                :props.question.type==='Choice'||props.question.type==='Multiple Choice'?\r\n                  <DragDropContext onDragEnd={onDragEnd}>\r\n                    <Droppable droppableId={\"choices_0\"}>\r\n                      {(provided) => (\r\n                        <List dense ref={provided.innerRef}>\r\n                          {props.question.choices.map((choice,index)=>\r\n                            <Draggable draggableId={choice.dragID} index={index} key={choice.choiceID}>\r\n                              {provided => (\r\n                                <ListItem ContainerComponent=\"li\" ref={provided.innerRef} {...provided.draggableProps}>\r\n                                  <ListItemIcon>\r\n                                    <IconButton size=\"small\" {...provided.dragHandleProps}>\r\n                                      <DragIndicatorIcon />\r\n                                    </IconButton>\r\n                                    <IconButton size=\"small\" onClick={(event)=>deleteChoice(event,choice)}>\r\n                                      <ClearIcon />\r\n                                    </IconButton>\r\n                                    {props.question.type==='Choice'?\r\n                                      <IconButton size=\"small\" onClick={(event)=>changeDefault(event,props.question.type,choice.choiceID)}>\r\n                                        {props.question.default===choice.choiceID?<RadioButtonCheckedIcon/>:<RadioButtonUncheckedIcon/>}  \r\n                                      </IconButton>\r\n                                    :\r\n                                      <IconButton size=\"small\" onClick={(event)=>changeDefault(event,props.question.type,choice.choiceID)}>\r\n                                        {props.question.default&&props.question.default.has(choice.choiceID)?<CheckBoxIcon />:<CheckBoxOutlineBlankIcon/>}\r\n                                      </IconButton>\r\n                                    }\r\n                                  </ListItemIcon>\r\n                                  <ListItemText primary={<TextField value={choice.text} onChange={event=>changeChoice(choice,event)} />} />\r\n                                </ListItem>\r\n                              )}\r\n                            </Draggable>\r\n                          )}\r\n                          {provided.placeholder}\r\n                          {!props.question.others? null:\r\n                            <ListItem ContainerComponent=\"li\" >\r\n                              <ListItemIcon>\r\n                                  <IconButton size=\"small\" disabled>\r\n                                    <DragIndicatorIcon />\r\n                                  </IconButton>\r\n                                  <IconButton size=\"small\" onClick={removeOthers}>\r\n                                    <ClearIcon />\r\n                                  </IconButton>\r\n                                  <IconButton size=\"small\" disabled>\r\n                                    {props.question.type==='Choice'?<RadioButtonUncheckedIcon/>:<CheckBoxOutlineBlankIcon/>}\r\n                                  </IconButton>\r\n                              </ListItemIcon>\r\n                              <ListItemText primary={<TextField value=\"Others\" disabled />}/>\r\n                            </ListItem>\r\n                          }\r\n                          <ListItem>\r\n                            <ListItemText primary={<span><Link component=\"button\" onClick={addChoice}>Add Option</Link> or <Link component=\"button\" onClick={addOthers}>Add 'Others'</Link></span>} />\r\n                          </ListItem>\r\n                        </List>\r\n                      )}\r\n                    </Droppable>\r\n                  </DragDropContext>\r\n                :null\r\n                }\r\n              </Grid>\r\n            </Grid>\r\n            <Divider />\r\n            <Grid item xs={12} container direction=\"row\" justifyContent=\"flex-start\" alignItems=\"center\" style={{paddingLeft:'2rem'}}>\r\n              <Grid item xs={checkOther(props.question.type)?2:4}>\r\n                {checkOther(props.question.type)?<TextField fullWidth disabled value={props.question.variable}/>:<TextField fullWidth value={props.question.variable} onChange={changeVariable} placeholder=\"Variable Name\" helperText=\"Variable Name\" />}\r\n              </Grid>\r\n              <FormGroup row style={{marginLeft:'auto',padding:'0.3rem'}}>\r\n                {checkOther(props.question.type)?null:<FormControlLabel value=\"start\" control={<Switch color=\"primary\" value={props.question.required} onChange={changeRequired} />} label={(props.question.required?\"\":\"Not \")+ \"Required\"} labelPlacement=\"start\"/>}\r\n                <Tooltip title=\"Delete Question\">\r\n                  <IconButton onClick={deleteQuestion}>\r\n                    <DeleteIcon />\r\n                  </IconButton>\r\n                </Tooltip>\r\n              </FormGroup>\r\n            </Grid>\r\n          </Paper>\r\n        </Grid>\r\n      )}\r\n    </Draggable>\r\n  );\r\n}\r\n\r\nexport default function Questions(props){\r\n  const addQuestion=()=>{\r\n    let newQuestions = props.creator.questions\r\n    let newQuestion = {questionID: props.creator.qlength, dragID: props.creator.qlength.toString(), type:'Text', variable: 'var_'+props.creator.qlength, questionLabel: '', required: false, default: null, min: null, max: null, loopvar: false, others: false, qchoices: 0, choices: []};\r\n    newQuestions.push(newQuestion);\r\n    props.setCreator({...props.creator, qlength: props.creator.qlength+1, questions: newQuestions})\r\n  }\r\n  const reorder = (list, startIndex, endIndex) => {\r\n    const result = Array.from(list);\r\n    const [removed] = result.splice(startIndex, 1);\r\n    result.splice(endIndex, 0, removed);\r\n    return result;\r\n  };\r\n  function onDragEnd(result) {\r\n    if(!result.destination){return}\r\n    if(result.destination.index === result.source.index){return}\r\n    const newQuestions = reorder(props.creator.questions,result.source.index,result.destination.index);\r\n    newQuestions[result.destination.index].loopvar = null;\r\n    props.setCreator({...props.creator, questions: newQuestions});\r\n  }\r\n  return (\r\n    <Grid item xs={5} spacing={3} container direction=\"column\" justifyContent=\"flex-start\" alignItems=\"stretch\">\r\n      <DragDropContext onDragEnd={onDragEnd}>\r\n        <Droppable droppableId=\"questions\">\r\n          {provided => (\r\n            <Grid item xs={12} spacing={4} container direction=\"column\" justifyContent=\"flex-start\" alignItems=\"strech\" ref={provided.innerRef} {...provided.droppableProps}>\r\n              {props.creator.questions.map((question, index) => (\r\n                <Question {...props} question={question} index={index} key={question.dragID} />\r\n              ))}\r\n              {provided.placeholder}\r\n            </Grid>\r\n          )}\r\n        </Droppable>\r\n        <Grid item style={{marginLeft:'auto',marginRight:'auto'}}>\r\n          <IconButton onClick={addQuestion}>\r\n            <ControlPointIcon style={{ fontSize: 40 }} />\r\n          </IconButton>\r\n        </Grid>\r\n      </DragDropContext>\r\n    </Grid>\r\n  )\r\n}","import React from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport ReactFlow, { ReactFlowProvider, addEdge, isEdge, getConnectedEdges, ControlButton, removeElements, Controls, Background, Handle} from 'react-flow-renderer';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\n\r\n\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nimport { EquationEvaluate, EquationOptions, defaultErrorHandler } from 'react-equation'\r\nimport { defaultVariables, defaultFunctions } from 'equation-resolver'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    flexBasis: '33.33%',\r\n    flexShrink: 0,\r\n  },\r\n  secondaryHeading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  node: {\r\n    border: '1px solid #1a192b',\r\n    borderRadius: '5px',\r\n    padding: '1rem',\r\n    marginBottom: '1rem',\r\n  },\r\n  operationNode: {\r\n    alignItems: 'center',\r\n    border: '1px solid #1a192b',\r\n    borderRadius: '2px',\r\n    backgroundColor: 'white',\r\n    padding: '0.2rem 2rem',\r\n    cursor: 'grab',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n  }\r\n}));\r\n\r\nconst operations = [\r\n  {operationID: 0, draggable:true, variable: 'equation_', type:'Number', equation:'', equationVars: {}, operationLabel: 'Equation'},\r\n  {operationID: 1, draggable:true, variable: 'conditional_', inputType:'Text', type:'Text', operationLabel: 'Conditional', cond: '==', inputVar: null, inputID: null},\r\n]\r\nconst conditionals = {\r\n  Number: [\"==\",\">=\",\">\",\"<\",\"<=\",\"!=\"],\r\n  Text: [\"==\"],\r\n}\r\nconst debugOp = {operationID: 100, variable: 'debug_op', operationLabel: 'Debug'}\r\n\r\nfunction OperationNode(props){\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(false);\r\n  const [equation, setEquation] = React.useState('');\r\n  const [write, setWrite] = React.useState('');\r\n  const openDialog=()=>{setOpen(true)}\r\n  const closeDialog=()=>{setOpen(false)}\r\n  const changeEquation=(event)=>{setEquation(event.target.value)}\r\n  const changeWrite=(event)=>{setWrite(event.target.value)}\r\n  return(\r\n    <div className={classes.operationNode}>\r\n      <Handle position=\"top\" type=\"target\" isConnectable={props.isConnectable}/>\r\n      <div>\r\n        {props.data.variable} {props.data.operationLabel==='Conditional'?<span style={{fontSize:'0.4rem'}}>({props.data.inputType+'→'+props.data.type})</span>:null}\r\n        <Dialog onClose={closeDialog} open={open} fullWidth maxWidth='md'> \r\n          <DialogTitle>{props.data.operationLabel} {props.data.operationLabel==='Conditional'?<span>({props.data.inputType+'→'+props.data.type})</span>:null}</DialogTitle>\r\n          {props.data.operationLabel==='Equation'?\r\n            <DialogContent>\r\n              Available Variables: {Object.keys(props.data.equationVars).join(', ')}\r\n              <TextField value={equation} onChange={changeEquation} fullWidth required label=\"Equation\" />\r\n              <EquationOptions variables={props.data.equationVars} functions={defaultFunctions} errorHandler={defaultErrorHandler}>\r\n                <EquationEvaluate value={equation!==''?equation:'0'}/>\r\n              </EquationOptions>\r\n            </DialogContent>\r\n          :\r\n            <DialogContent>\r\n              {props.data.inputVar?null:'Add input variable!'}\r\n              <Grid container spacing={1} direction=\"row\" justifyContent=\"flex-start\" alignItems=\"center\">\r\n                <Grid item xs={2}>\r\n                  <TextField value={props.data.inputVar} fullWidth disabled placeholder=\"Variable\" />\r\n                </Grid>\r\n                <Grid item xs={1}>\r\n                  <Select fullWidth value={props.data.cond} >\r\n                    {conditionals[props.data.inputType].map(cond=>\r\n                      <MenuItem value={cond} key={cond}>\r\n                        {cond}\r\n                      </MenuItem>  \r\n                    )}\r\n                  </Select>\r\n                </Grid>\r\n                <Grid item xs={1}>\r\n                  <TextField value={equation} onChange={changeEquation} fullWidth required placeholder=\"condition\" />\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <TextField value={write} onChange={changeWrite} fullWidth required placeholder=\"Write\" />\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <Button variant=\"outlined\" color=\"primary\" onClick={()=>alert(\"Not available in the moment\")} size=\"small\">\r\n                    New if\r\n                  </Button>\r\n                </Grid>\r\n              </Grid>\r\n            </DialogContent>\r\n          }\r\n          <DialogActions>\r\n            <Button onClick={closeDialog} color=\"primary\">\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={closeDialog} color=\"primary\" autoFocus>\r\n              Save\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        <IconButton onClick={openDialog} size=\"small\">\r\n          <EditIcon style={{fontSize:'1rem'}}/>\r\n        </IconButton>\r\n      </div>\r\n      <Handle\r\n        position=\"bottom\"\r\n        type=\"source\"\r\n        isConnectable={props.isConnectable}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default function Variables(props){\r\n  const classes = useStyles();\r\n\r\n  const [createOutput, setCreateOutput] = React.useState({open: false,name: ''});\r\n\r\n  const reactFlowWrapper = React.useRef(null);\r\n  const [reactFlowInstance, setReactFlowInstance] = React.useState(null);\r\n  const onConnect = (params)=>{\r\n    let newNodes = props.creator.nodes\r\n    let source = newNodes.filter(function(node){return params.source===node.id})[0]\r\n    let sourceIndex = newNodes.indexOf(source)\r\n    let target = newNodes.filter(function(node){return params.target===node.id})[0]\r\n    let targetIndex = newNodes.indexOf(target)\r\n    let valid = null;\r\n    // console.log(source.data.type,target.data.variable)\r\n    if(target.data.operationLabel==='Equation'){\r\n      if(source.data.type==='Number'||source.data.operationLabel==='Equation'){\r\n        valid = {...params, animated: true};\r\n        newNodes[targetIndex].data.equationVars[source.data.variable] = { type: 'number', value: 1 };  \r\n      }\r\n      else{\r\n        props.setAlert({open: true, text: \"Equation must receive number\", severity: \"error\"})\r\n      }\r\n    }\r\n    else if(target.data.operationLabel==='Conditional'){\r\n      if(source.data.type==='Number'||source.data.operationLabel==='Equation'){\r\n        valid = {...params, animated: true};\r\n        newNodes[targetIndex].data.inputType='Number';\r\n        newNodes[targetIndex].data.inputVar=source.data.variable;\r\n        newNodes[targetIndex].data.inputID=source.data.questionID;\r\n      }\r\n    }\r\n    else if(target.type==='output'){\r\n      valid = {...params, animated: true};\r\n    }\r\n\r\n    // if(source.data.variable==='equation'){\r\n    //   valid = {...params, animated: true};\r\n    //   newNodes[sourceIndex].data.equationVars[target.data.variable] = { type: 'number'}\r\n    // }\r\n    if(valid){\r\n      newNodes = addEdge(valid, newNodes)\r\n      props.setCreator({...props.creator, nodes: newNodes});\r\n    }\r\n    else{\r\n      \r\n    }\r\n  }\r\n  // const onElementsRemove = (elementsToRemove) => {\r\n  //   props.setCreator({...props.creator, nodes: removeElements(elementsToRemove, props.creator.nodes)});\r\n  // }\r\n  // const onClickElement = React.useCallback((event, element) => {\r\n  //   props.setCreator({...props.creator, selnode: [element]});\r\n  // }, [])\r\n  // const onNodeDragStop = (event, node) => console.log('drag stop', node);\r\n  // const onClickElement = (event, element) => console.log('click', element);\r\n  // const onClickElementDelete = React.useCallback(() => {\r\n  //   const edges = props.creator.nodes.filter((element) => isEdge(element))\r\n  //   const edgesToRemove = getConnectedEdges(props.creator.selnode, edges)\r\n  //   onElementsRemove([...props.creator.selnode, ...edgesToRemove])\r\n  // }, [props.creator.nodes, onElementsRemove, props.creator.selnode]);\r\n  const onLoad = (_reactFlowInstance) => setReactFlowInstance(_reactFlowInstance);\r\n  const onDragOver = (event) => { event.preventDefault(); event.dataTransfer.dropEffect = 'move';};\r\n\r\n  const onDrop = (event) => {\r\n    event.preventDefault();\r\n    const reactFlowBounds = reactFlowWrapper.current.getBoundingClientRect();\r\n    const position = reactFlowInstance.project({\r\n      x: event.clientX - reactFlowBounds.left,\r\n      y: event.clientY - reactFlowBounds.top,\r\n    });\r\n    let varInfo = JSON.parse(event.dataTransfer.getData('application/reactflow'));\r\n    const type = varInfo.nodeType;\r\n    if(type==='operation'){\r\n      varInfo.variable += props.creator.qnodes\r\n    }\r\n    let label = varInfo.variable + ' ('+varInfo.type+')';\r\n    const newNode = {id: props.creator.qnodes.toString(), type, position, data: { label, ...varInfo },};\r\n    let newNodes = props.creator.nodes;\r\n    newNodes = newNodes.concat(newNode);\r\n    props.setCreator({...props.creator, nodesUsedIDs: props.creator.nodesUsedIDs.add(varInfo.questionID), qnodes: props.creator.qnodes+1,  nodes: newNodes});\r\n  };\r\n  const onDragStart = (event, varInfo, nodeType) => {\r\n    event.dataTransfer.setData('application/reactflow', JSON.stringify({nodeType, ...varInfo}));\r\n    event.dataTransfer.effectAllowed = 'move';\r\n  };\r\n  const clearAll=()=>{\r\n    props.setCreator({...props.creator, qnodes:0, nodesUsedIDs: new Set(), nodes: [], outputs: []})\r\n  }\r\n  const openCreate=()=>{\r\n    setCreateOutput({open: true,variable: ''})\r\n  }\r\n  const handleChangeCreate=(event)=>{\r\n    if(event.target.value===''){\r\n      setCreateOutput({open: false,variable: ''})\r\n    }\r\n    else{\r\n      setCreateOutput({...createOutput,name: event.target.value})\r\n    }\r\n    \r\n  };\r\n  const saveOutput=(event)=>{\r\n    if(event.keyCode == 13){\r\n      let newOutputs = props.creator.outputs;\r\n      newOutputs.push({outputID: newOutputs.length, variable: createOutput.name, type:'Out'})\r\n      props.setCreator({...props.creator, outputs: newOutputs})\r\n      setCreateOutput({open: false,variable: ''})\r\n    }\r\n  }\r\n  return (\r\n    <Grid item>\r\n      <Paper elevation={3}>\r\n        <Grid container direction=\"row\" justifyContent=\"flex-start\" alignItems=\"stretch\" >\r\n          <Grid item xs={3} >\r\n            <Paper elevation={3} style={{height: '70vh'}}>\r\n              <Button onClick={clearAll} style={{margin:'1rem'}} variant=\"outlined\" color=\"primary\">\r\n                Clear all\r\n              </Button>\r\n              <Accordion>\r\n                <AccordionSummary expandIcon={<ExpandMoreIcon />}>\r\n                  <Typography className={classes.heading}>Input</Typography>\r\n                  <Typography className={classes.secondaryHeading}>Variables from questionary</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                  <List style={{width: '100%'}} spacing={1}>\r\n                    {props.creator.questions.map(question =>\r\n                      props.creator.nodesUsedIDs.has(question.questionID)?null:\r\n                        <ListItem key={question.id} className={classes.node} style={{borderColor: '#0041d0'}} button onDragStart={(event) => onDragStart(event, question, 'input')} draggable>\r\n                          {question.variable} ({question.type})\r\n                        </ListItem>\r\n                    )}\r\n                  </List>\r\n                </AccordionDetails>\r\n              </Accordion>\r\n              <Accordion>\r\n                <AccordionSummary expandIcon={<ExpandMoreIcon />}>\r\n                  <Typography className={classes.heading}>Operations</Typography>\r\n                  <Typography className={classes.secondaryHeading}>Change input into text</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                  <List style={{width: '100%', maxHeight: 300}}>\r\n                    {operations.map(operation => \r\n                      <ListItem key={operation.id} className={classes.node} button onDragStart={(event) => onDragStart(event, operation, 'operation')} draggable>\r\n                        {operation.operationLabel}\r\n                      </ListItem>\r\n                    )}\r\n                      {/* <ListItem className={classes.node} button onDragStart={(event) => onDragStart(event, debugOp, 'default')} draggable>\r\n                        {debugOp.operationLabel}\r\n                      </ListItem> */}\r\n                  </List>\r\n                </AccordionDetails>\r\n              </Accordion>\r\n              <Accordion>\r\n                <AccordionSummary expandIcon={<ExpandMoreIcon />}>\r\n                  <Typography className={classes.heading}>Output</Typography>\r\n                  <Typography className={classes.secondaryHeading}>Variables for the Report</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                  <List style={{width: '100%'}}>\r\n                    {props.creator.outputs.map(output => \r\n                      <ListItem key={output.id} className={classes.node} style={{borderColor: '#ff0072'}} button onDragStart={(event) => onDragStart(event, output, 'output')} draggable>\r\n                        {output.variable}\r\n                      </ListItem>\r\n                    )}\r\n                    {createOutput.open?\r\n                      <ListItem>\r\n                        <TextField label=\"Name\" color=\"secondary\" value={createOutput.name} onChange={handleChangeCreate} onKeyDown={saveOutput}/>\r\n                      </ListItem>\r\n                    :\r\n                      <ListItem button onClick={openCreate} style={{color: '#ff0072'}}>\r\n                        Create Variable\r\n                      </ListItem>\r\n                    }\r\n                  </List>\r\n                </AccordionDetails>\r\n              </Accordion>\r\n            </Paper>\r\n          </Grid>\r\n          <Grid item xs={9}  style={{width: '70vw'}}  ref={reactFlowWrapper}>\r\n            <ReactFlowProvider>\r\n              <ReactFlow\r\n                elements={props.creator.nodes}\r\n                onConnect={onConnect}\r\n                onLoad={onLoad}\r\n                onDrop={onDrop}\r\n                // onElementClick={onClickElement}\r\n                // onNodeDragStop={onNodeDragStop}\r\n                nodeTypes={{operation: OperationNode}}\r\n                defaultZoom={1.5}\r\n                // onElementClick={onClickElement}\r\n                onDragOver={onDragOver}\r\n              >\r\n                <Controls showInteractive={false}>\r\n                  {/* <ControlButton onClick={onClickElementDelete}>\r\n                    <DeleteIcon />\r\n                  </ControlButton> */}\r\n                </Controls>\r\n                <Background color=\"#aaa\" gap={16} />\r\n              </ReactFlow>\r\n            </ReactFlowProvider>\r\n          </Grid>\r\n        </Grid>\r\n      </Paper>\r\n    </Grid>\r\n  );\r\n};\r\n","import Button from '@material-ui/core/Button';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport ControlPointIcon from '@material-ui/icons/ControlPoint';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport React from 'react';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport PublishIcon from '@material-ui/icons/Publish';\r\n\r\nimport InlineSVG from 'svg-inline-react';\r\n\r\n\r\nimport Paper from '@material-ui/core/Paper';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport CreateIcon from '@material-ui/icons/Create';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\nimport DragIndicatorIcon from '@material-ui/icons/DragIndicator';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\r\n\r\nfunction Part(props){\r\n  function removePart(partID){\r\n    let newSVG = props.creator.svg;\r\n    newSVG.parts = newSVG.parts.filter(function(part){return part.partID !== partID})\r\n    props.setCreator({...props.creator, svg: newSVG})\r\n  }\r\n  function changePart(part, event, bool){\r\n    let newSVG = props.creator.svg;\r\n    let index = newSVG.parts.indexOf(part);\r\n    if(index !== -1){\r\n      if(bool){\r\n        newSVG.parts[index].valueTrue = event.target.value;\r\n      }\r\n      else{\r\n        newSVG.parts[index].valueFalse = event.target.value;\r\n      }\r\n    }\r\n    props.setCreator({...props.creator, svg: newSVG})\r\n  }\r\n  function changeOutputID(part, event){\r\n    let newSVG = props.creator.svg;\r\n    let index = newSVG.parts.indexOf(part);\r\n    if(index !== -1){\r\n      newSVG.parts[index].outputID = event.target.value\r\n    }\r\n    props.setCreator({...props.creator, svg: newSVG})\r\n  }\r\n  return(\r\n    <Draggable draggableId={props.part.dragID} index={props.index}>\r\n      {provided => (\r\n        <Grid item xs={12} ref={provided.innerRef} {...provided.draggableProps}>\r\n          <Paper elevation={3} style={{padding:'1rem'}}>\r\n            <Grid container xs={12}  spacing={2} container direction=\"row\" justifyContent=\"flex-start\" alignItems=\"center\">\r\n              <Grid item xs={4} container direction=\"row\" justifyContent=\"center\" alignItems=\"center\">\r\n                <Grid item xs={4} {...provided.dragHandleProps}>\r\n                  <IconButton size='small'>\r\n                    <DragIndicatorIcon/>\r\n                  </IconButton>\r\n                  <IconButton size='small' onClick={()=>removePart(props.part.partID)}>\r\n                    <ClearIcon />\r\n                  </IconButton>\r\n                </Grid>\r\n                <Grid item xs={8}>\r\n                  <Select fullWidth value={props.part.outputID} onChange={(event)=>changeOutputID(props.part,event)}>\r\n                    <MenuItem value={-1}><em>Always True</em></MenuItem>\r\n                    {props.creator.outputs.map(variable=><MenuItem value={variable.outputID}>{variable.variable}</MenuItem>)}\r\n                  </Select>\r\n                </Grid>\r\n              </Grid>\r\n              <Grid item xs={8}>\r\n                <TextField value={props.part.valueTrue} multiline onChange={(event)=>changePart(props.part,event,true)} fullWidth placeholder='True' />\r\n                {props.part.outputID===-1?null:\r\n                  <TextField value={props.part.valueFalse} multiline onChange={(event)=>changePart(props.part,event,false)} fullWidth placeholder='False' />\r\n                }\r\n              </Grid>\r\n            </Grid>\r\n          </Paper>\r\n        </Grid>\r\n      )}\r\n    </Draggable>\r\n  )\r\n}\r\n\r\nexport default function SVG(props){\r\n  const [tab,setTab] = React.useState(0);\r\n  const changeBase=(event)=>{\r\n    let newSVG = props.creator.svg;\r\n    newSVG.base = event.target.value;\r\n    props.setCreator({...props.creator, svg: newSVG})\r\n  };\r\n  function buildSVG(){\r\n    let SVGtext = props.creator.svg.base;\r\n    SVGtext += props.creator.svg.parts.map(part=>(part.outputID!==-1&&!part.show)?part.valueFalse:part.valueTrue).join(\"\")\r\n    return SVGtext+'</svg>'\r\n  }\r\n  const addPart=()=>{\r\n    let newSVG = props.creator.svg;\r\n    newSVG.parts.push({partID: newSVG.parts.length, dragID: newSVG.parts.length.toString(), show: true, outputID: -1, valueTrue: '', valueFalse: ''})\r\n    props.setCreator({...props.creator, svg: newSVG})\r\n  }\r\n  const reorder = (list, startIndex, endIndex) => {\r\n    const result = Array.from(list);\r\n    const [removed] = result.splice(startIndex, 1);\r\n    result.splice(endIndex, 0, removed);\r\n    return result;\r\n  };\r\n  function onDragEnd(result) {\r\n    if(!result.destination){return}\r\n    if(result.destination.index === result.source.index){return}\r\n    let newSVG = props.creator.svg;\r\n    newSVG.parts = reorder(newSVG.parts,result.source.index,result.destination.index);\r\n    props.setCreator({...props.creator, svg: newSVG});\r\n  }\r\n  const changeTab=(event, newTab)=>{setTab(newTab)};\r\n  function changeSwitch(part,event){\r\n    let newSVG = props.creator.svg;\r\n    let index = newSVG.parts.indexOf(part);\r\n    if(index !== -1){\r\n      newSVG.parts[index].debug = event.target.checked\r\n    }\r\n    props.setCreator({...props.creator, svg: newSVG})\r\n  }\r\n  return(\r\n    <React.Fragment>\r\n      <Grid item xs={12}>\r\n        <input accept=\"image/*\" type=\"file\" id='inputSVG' style={{display:'none'}}/>\r\n        <label htmlFor='inputSVG'>\r\n          <Button variant=\"outlined\" color=\"primary\" component=\"span\" startIcon={<PublishIcon />}>\r\n            Upload Base SVG\r\n          </Button>\r\n        </label>\r\n      </Grid>\r\n      <Grid item xs={6} container direction=\"column\" justifyContent=\"center\" alignItems=\"stretch\">\r\n        <Grid item xs={12} style={{marginLeft:'auto', marginRight: 'auto'}}>\r\n          <Tabs value={tab} onChange={changeTab}  indicatorColor=\"primary\" textColor=\"primary\" style={{marginLeft:'auto', marginRight:'auto'}}>\r\n            <Tab label=\"Create\"/>\r\n            <Tab label=\"Help\"/>\r\n          </Tabs>\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <Paper xs={12} style={{ padding:'2rem'}} elevation={3}>\r\n            <Grid container xs={12} spacing={2} direction=\"column\" justifyContent=\"flex-start\" alignItems=\"stretch\">\r\n              <Grid item style={{marginLeft:'auto', marginRight:'auto', border:'thin solid gray', borderRadius:'10px'}}>\r\n                <InlineSVG src={buildSVG()}/>\r\n              </Grid>\r\n              {!tab?\r\n                <React.Fragment>\r\n                  <Grid item xs={12}>\r\n                    <TextField fullWidth value={props.creator.svg.base} multiline onChange={changeBase} fullWidth label=\"Base (start with <svg>...)\" />\r\n                  </Grid>\r\n                  <DragDropContext onDragEnd={onDragEnd}>\r\n                    <Droppable droppableId=\"svgparts\">\r\n                      {provided => (\r\n                        <Grid item xs={12} spacing={1} container direction=\"column\" justifyContent=\"flex-start\" alignItems=\"stretch\" ref={provided.innerRef} {...provided.droppableProps}>\r\n                          {props.creator.svg.parts.map((part, index)=>\r\n                            <Part {...props} part={part} index={index} key={part.dragID} />\r\n                          )}\r\n                          {provided.placeholder}\r\n                        </Grid>\r\n                      )}\r\n                    </Droppable>\r\n                    <Grid item style={{marginLeft:'auto', marginRight:'auto'}}>\r\n                      <IconButton onClick={addPart}>\r\n                        <ControlPointIcon />\r\n                      </IconButton>\r\n                    </Grid>\r\n                  </DragDropContext>\r\n                </React.Fragment>\r\n              :\r\n                props.creator.svg.parts.map(part=>\r\n                  part.outputID===-1? null:\r\n                    <Grid item xs={12}>\r\n                      {props.creator.outputs.find(output => part.outputID === output.outputID).variable} \r\n                      <Switch checked={part.debug} onChange={(event)=>changeSwitch(part,event)}/>\r\n                    </Grid>\r\n                )\r\n              }\r\n            </Grid>\r\n          </Paper>\r\n        </Grid>\r\n      </Grid>\r\n    </React.Fragment>\r\n  )\r\n}","\r\nimport Grid from '@material-ui/core/Grid';\r\nimport JoditEditor from \"jodit-react\";\r\nimport React from 'react';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nexport default function Template(props){\r\n\tconst editor = React.useRef(null)\r\n\tconst config = {\r\n        height: \"100%\",\r\n        toolbarAdaptive: false,\r\n        readonly: false,\r\n        extraButtons: [\r\n            {\r\n                name: 'Output Variables',\r\n                iconURL: 'http://xdsoft.net/jodit/logo.png',\r\n                list: props.creator.outputs.map(x => x.variable),\r\n                exec: function(editor, t, {control}) {\r\n                  if(control.args){\r\n                    let key = control.args[0];\r\n                    editor.s.insertHTML('<span style=\"color: red; border: thin solid red; border-radius: 5px; padding: 2px; cursor: pointer; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;\">'+key+'</span>')\r\n                  }\r\n                },\r\n                template: (editor, key, value) => {\r\n                    return '<span>'+value+'</span>';\r\n                }\r\n            },\r\n            {\r\n              name: 'Input Variables',\r\n              iconURL: 'http://xdsoft.net/jodit/logo.png',\r\n              list: props.creator.questions.map(x => x.variable),\r\n              exec: function(editor, t, {control}) {\r\n                if(control.args){\r\n                  let key = control.args[0];\r\n                  editor.s.insertHTML('<span style=\"color: blue; border: thin solid blue; border-radius: 5px; padding: 2px; cursor: pointer; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;\">'+key+'</span>')\r\n                }\r\n              },\r\n              template: (editor, key, value) => {\r\n                  return '<span>'+value+'</span>';\r\n              }\r\n            },\r\n            {\r\n              name: 'Add QR Code',\r\n              iconURL: 'http://xdsoft.net/jodit/logo.png',\r\n              exec: function(editor, t, {control}) {\r\n                editor.s.insertHTML('<img width=\"200\" height=\"200\" src=\\'https://andreispurim.github.io/Imagem1.png\\'/>')\r\n              },\r\n              template: (editor, key, value) => {\r\n                  return '<span>'+value+'</span>';\r\n              }\r\n            },\r\n            {\r\n              name: 'Add SVG',\r\n              iconURL: 'http://xdsoft.net/jodit/logo.png',\r\n              exec: function(editor, t, {control}) {\r\n                editor.s.insertHTML('<img width=\"200\" src=\\'https://andreispurim.github.io/svg_template.png\\'/>')\r\n              },\r\n              template: (editor, key, value) => {\r\n                  return '<span>'+value+'</span>';\r\n              }\r\n            }\r\n        ],\r\n      }\r\n  const handleChange=(newContent)=>{\r\n    props.setCreator({...props.creator, template: newContent})\r\n  }\r\n  return (\r\n    <Grid item>\r\n      <Paper elevation={3} style={{width: '210mm', height: '297mm'}}>\r\n        <JoditEditor ref={editor} value={props.creator.template} config={config} tabIndex={1} onBlur={handleChange} />\r\n      </Paper>\r\n    </Grid>\r\n  )\r\n}","import Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport React from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  media: {\r\n    height: 0,\r\n    paddingTop: '56.25%', // 16:9\r\n  },\r\n}));\r\n\r\nexport default function Publish(props){\r\n  const classes = useStyles();\r\n  const getPublish=()=>{\r\n    if(props.control.tempData&&(props.control.formID===props.control.tempData.id)){\r\n      let publishData = props.example.rows.find(row=>row.id===props.control.formID)\r\n      publishData.last_updated = new Date().toJSON();\r\n      if(Array.isArray(publishData.keywords)){\r\n        publishData.keywords = publishData.keywords.join(',');\r\n      }\r\n      return publishData;\r\n    }\r\n    else{\r\n      return {\r\n        id: props.creator.formID,\r\n        editable: true,\r\n        name: '',\r\n        last_updated: new Date().toJSON(),\r\n        field: '',\r\n        creator: props.control.user.firstname + ' ' + props.control.user.lastname ,\r\n        preview: '',\r\n        creator_avatar: props.control.user.avatar,\r\n        dynamic_image: false,\r\n        creator_id: props.control.user.id,\r\n        keywords: '',\r\n        questions: props.creator.questions.length,\r\n        uses: 0,\r\n        description: '',\r\n        paragraph: '',\r\n      }\r\n    }\r\n  }\r\n  const [publish, setPublish] = React.useState(getPublish())\r\n  const changeTitle=(event)=>{setPublish({...publish, name: event.target.value})};\r\n  const changeField=(event)=>{setPublish({...publish, field: event.target.value})};\r\n  const changeDescription=(event)=>{setPublish({...publish, description: event.target.value})};\r\n  const changePreview=(event)=>{setPublish({...publish, preview: event.target.value})};\r\n  const changeKeywords=(event)=>{setPublish({...publish, keywords: event.target.value})};\r\n  const changeMore=(event)=>{setPublish({...publish, paragraph: event.target.value})};\r\n  const savePublish=()=>{\r\n    let newRows = props.example.rows;\r\n    let newRow = publish;\r\n    if(!Array.isArray(newRow.keywords)){\r\n      newRow.keywords = [...new Set(newRow.keywords.split(',').map(keyword=>keyword.trim()))];\r\n    }\r\n    let currentRow = newRows.find(rows=>rows.id===props.creator.id)\r\n    newRow.id = props.creator.id;\r\n    if(currentRow){\r\n      newRows[newRows.indexOf(currentRow)] = newRow;\r\n    }\r\n    else{\r\n      newRows.push(newRow);\r\n      let newUsers = props.example.users\r\n      newUsers[props.control.user.username].created.push(newRow.id)\r\n    }\r\n    props.example.forms[newRow.id] = props.creator;\r\n    let newForms = props.example.forms\r\n    newForms[newRow.id] = props.creator;\r\n    function formatQuestions(question){\r\n      if(question.type==='Text'){\r\n        return {\r\n          isRequired: question.required,\r\n          type: question.type.toLowerCase(),\r\n          name: question.variable,\r\n          title: question.questionLabel,\r\n          defaultAnswer: question.default,\r\n        }\r\n      }\r\n      else if(question.type==='Number'){\r\n        return {\r\n          isRequired: question.required,\r\n          // minValue: question.min,\r\n          // maxValue: question.max,\r\n          type: \"text\",\r\n          name: question.variable,\r\n          title: question.questionLabel,\r\n          // defaultAnswer: question.default,\r\n        }\r\n      }\r\n    }\r\n    newForms[newRow.id].formatted = {\r\n      questions: props.creator.questions.map(question=>formatQuestions(question)),\r\n      template: {},\r\n      svg: {\r\n        name: \"svg\",\r\n        begin: props.creator.svg.base,\r\n        end: \"</svg>\",\r\n        organs: props.creator.svg.parts.map(part=>part.valueTrue),\r\n      }\r\n    }\r\n    props.setExample({...props.example, qforms: props.example.qforms+1, forms: newForms, rows: newRows})\r\n    props.setControl({...props.control, formID: null, setData: {}, view: 'user'})\r\n  }\r\n  return(\r\n    <Grid item xs={4}>\r\n      <Card style={{minWidth:'20rem'}} elevation={3}>\r\n          <CardHeader\r\n            avatar={<Avatar src={publish.creator_avatar} />}\r\n            action={<Tooltip title=\"Options\"><IconButton><MoreVertIcon /></IconButton></Tooltip>}\r\n            title={'Created by '+publish.creator}\r\n            subheader={'FormID '+props.creator.id+'.Last update: '+new Date().toISOString().slice(0, 10)}\r\n          />\r\n          <CardMedia\r\n            className={classes.media}\r\n            image={publish.preview}\r\n            title=\"Preview\"\r\n          />\r\n          <CardContent>\r\n            <Grid container spacing={2} direction=\"row\" justifyContent=\"flex-start\" alignItems=\"center\">\r\n              <Grid item xs={12}>\r\n                <TextField value={publish.name} onChange={changeTitle} fullWidth required label=\"Title\" />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField value={publish.field} onChange={changeField} fullWidth required label=\"Field\" variant=\"outlined\" />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField value={publish.description} onChange={changeDescription} fullWidth required label=\"Description\" variant=\"outlined\" />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField helperText=\"Example: https://images.sampletemplates.com/wp-content/uploads/2017/02/Sample-Medical-Reports.jpg\" value={publish.preview} onChange={changePreview} fullWidth required label=\"Background URL\" variant=\"outlined\" />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField value={publish.keywords} onChange={changeKeywords} fullWidth required label=\"Keywords separated by ,\" variant=\"outlined\" />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                  <b>Questions:</b> {publish.questions} Questions\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField value={publish.read_more} onChange={changeMore} fullWidth label=\"Read more (Optional)\" multiline rows={8} variant=\"outlined\" />\r\n              </Grid>\r\n            </Grid>\r\n          </CardContent>\r\n          <DialogActions style={{paddingTop: 0}}>\r\n            <Button disabled={publish.title===''||publish.description===''||publish.preview===''||publish.keywords===''} onClick={savePublish} color=\"primary\">\r\n              Publish\r\n            </Button>\r\n          </DialogActions>\r\n        </Card>\r\n    </Grid>\r\n  )\r\n}","import Button from '@material-ui/core/Button';\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport React from 'react';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\n\r\nimport Questions from './Questions.js';\r\nimport Variables from './Variables.js';\r\nimport SVG from './SVG.js';\r\nimport Template from './Template.js';\r\nimport Publish from './Publish.js';\r\n\r\nfunction ErrorCard(){\r\n  return(\r\n    <Grid item>\r\n      There is an error with your forms creator. Please try moving back or forth, or contact the ISARVIT team\r\n    </Grid>\r\n  )\r\n}\r\n\r\nexport default function Creator(props){\r\n  const getCreator=()=>{\r\n    if(props.control.tempData&&(props.control.formID===props.control.tempData.id)){\r\n      let editData = props.control.tempData;\r\n      editData.card = 0;\r\n      return  editData;\r\n    }\r\n    else{\r\n      return {\r\n        id: props.example.qforms, card: 0,\r\n        questions: [],qlength: 0,\r\n        outputs: [], nodes: [], qnodes: 0, nodesUsedIDs: new Set(), selnode: null,\r\n        template: '',\r\n        svg: {base: '',parts: [],used_variables: []}\r\n      }\r\n    }\r\n  };\r\n  const [creator, setCreator] = React.useState(getCreator());\r\n  const back=()=>{\r\n    if(creator.card){\r\n      setCreator({...creator, card: creator.card-1})\r\n    }\r\n    else{\r\n      props.setControl({...props.control, view: 'user'})\r\n    }\r\n  }\r\n  const forward=()=>{\r\n    setCreator({...creator, card: creator.card+1})\r\n  }\r\n  const sendExtraProps = {...props, creator, setCreator}\r\n  function renderStep(){\r\n    switch(creator.card){\r\n      case 0: return <Questions {...sendExtraProps}/>\r\n      case 1: return <Variables {...sendExtraProps}/>\r\n      case 2: return <SVG {...sendExtraProps}/>\r\n      case 3: return <Template {...sendExtraProps}/>\r\n      case 4: return <Publish {...sendExtraProps}/>\r\n      default: return <ErrorCard />\r\n    }\r\n  }\r\n  return (\r\n    <Grid container direction=\"column\" justifyContent=\"center\" alignItems=\"center\" xs={12} spacing={2} style={{marginTop: '2rem' }}>\r\n      <Grid item xs={5} style={{width: '100%'}}>\r\n        <Stepper activeStep={creator.card} alternativeLabel style={{ backgroundColor: \"transparent\" }}>\r\n          <Step><StepLabel>Create Questions</StepLabel></Step>\r\n          <Step><StepLabel>Create Variables</StepLabel></Step>\r\n          <Step><StepLabel>Create SVG</StepLabel></Step>\r\n          <Step><StepLabel>Create Template</StepLabel></Step>\r\n          <Step><StepLabel>Publish</StepLabel></Step>\r\n        </Stepper>\r\n      </Grid>\r\n      <Grid item xs={12}>\r\n          <ButtonGroup variant=\"contained\" color=\"primary\" aria-label=\"contained primary button group\">\r\n            <Button onClick={back}>{creator.card?'Back':'Cancel'}</Button>\r\n            <Button onClick={forward} disabled={creator.card>=4}>Continue</Button>\r\n          </ButtonGroup>\r\n      </Grid>\r\n      {renderStep()}\r\n    </Grid>\r\n  )\r\n}","import Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CropFreeIcon from '@material-ui/icons/CropFree';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Link from '@material-ui/core/Link';\r\nimport React from 'react';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Scanner from \"react-webcam-qr-scanner\";\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport yaml from 'js-yaml';\r\n\r\nimport FormCard from './FormCard.js';\r\n\r\nexport default function ReadQRCode(props){\r\n  const [data,setData] = React.useState(null);\r\n  const handleDecode = (result) => {\r\n    if(!data){\r\n      let qrdata = yaml.load(result.data);\r\n      setData({row: props.example.rows[qrdata.formID], answers: qrdata});\r\n    }\r\n  }\r\n  const retry=()=>{setData(null)};\r\n  const back=()=>{props.setView('user')};\r\n  const use=()=>{\r\n    props.setControl({...props.control, formID: data.answers.formID, tempData: data.answers.answers, view:'form'})\r\n  }\r\n  return (\r\n    <Grid container xs={12} spacing={1} direction=\"column\" justifyContent=\"center\" alignItems=\"center\" style={{marginTop: '2rem' }}>\r\n      <Grid item xs={12}>\r\n        <Button variant=\"outlined\" color=\"primary\" onClick={back} startIcon={<ChevronLeftIcon />}>\r\n          Return\r\n        </Button>\r\n      </Grid> \r\n      <Grid item xs={12}>\r\n        <Paper elevation={3}>\r\n          <Grid xs={12} container direction=\"column\" justifyContent=\"center\" alignItems=\"center\" style={{paddingBottom:'1rem'}}>\r\n            {/* <Grid item xs={12}>\r\n              <Avatar><CropFreeIcon/></Avatar>\r\n            </Grid> */}\r\n            <Grid item xs={12}>\r\n              <Scanner onDecode={handleDecode} constraints={{ audio: false, video: {facingMode: \"environment\"} }} captureSize={{ width: 1280, height: 720 }}/>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <Typography variant=\"overline\" display=\"block\">\r\n                {data?'Detected':'Not Detected'}. {data?<Link component=\"button\" variant=\"overline\" onClick={retry}>Retry?</Link>:null}\r\n              </Typography>\r\n            </Grid>\r\n            {!data?null:\r\n              <React.Fragment>\r\n                <Grid item xs={12}>\r\n                  <TableContainer>\r\n                    <Table>\r\n                      <TableHead>\r\n                        <TableRow>\r\n                          <TableCell><b>Date</b></TableCell>\r\n                          <TableCell><b>User</b></TableCell>\r\n                          <TableCell><b>Form Title</b></TableCell>\r\n                          <TableCell><b>Form ID</b></TableCell>\r\n                          <TableCell><b>Answers</b></TableCell>\r\n                          <TableCell><b>Preview</b></TableCell>\r\n                        </TableRow>\r\n                      </TableHead>\r\n                      <TableBody>\r\n                        <TableRow>\r\n                          <TableCell>\r\n                            {data.answers.date}\r\n                          </TableCell>\r\n                          <TableCell>\r\n                            {data.answers.user}\r\n                          </TableCell>\r\n                          <TableCell>\r\n                            {data.row.name}\r\n                          </TableCell>\r\n                          <TableCell>\r\n                            {data.answers.formID}\r\n                          </TableCell>\r\n                          <TableCell>\r\n                            {Object.keys(data.answers.answers).length}/{data.row.questions}\r\n                          </TableCell>\r\n                          <FormCard {...props} readingQRCode row={data.row}/>\r\n                        </TableRow>\r\n                      </TableBody>\r\n                    </Table>\r\n                  </TableContainer>\r\n                </Grid>\r\n                <Grid item xs={12} style={{padding:'1rem'}}>\r\n                  <Button variant=\"contained\" color=\"primary\" onClick={use} startIcon={<ChevronRightIcon />}>\r\n                    Use Answers\r\n                  </Button>\r\n                </Grid>\r\n              </React.Fragment>\r\n            }\r\n          </Grid>\r\n        </Paper>\r\n      </Grid>\r\n    </Grid>\r\n  )\r\n}","import ReactDOM from 'react-dom';\nimport React from 'react';\n\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport { MuiThemeProvider, createTheme } from \"@material-ui/core/styles\";\nimport Snackbar from '@material-ui/core/Snackbar';\nimport './Source/index.css';\n\nimport Navbar from './Components/Navbar.js';\nimport Landing from './Pages/Landing/Landing.js';\nimport Login from './Pages/Login/Login.js';\nimport User from './Pages/User/User.js';\nimport Form from './Pages/Form/Form.js';\nimport Creator from './Pages/Creator/Creator.js';\nimport ReadQRCode from './Pages/User/ReadQRCode.js';\n\nimport { dbExample } from './Source/example.js';\n\nconst themeLight = createTheme({\n  palette: {\n      background: {\n          default: \"#F8F8F8\"\n      },\n  }\n});\n\nexport default function Control(){\n  const [alert, setAlert] = React.useState({open: false, text: \"\", severity: \"success\"});\n  const [control, setControl] = React.useState({view: 'landing', formID: null, tempData: {}, user: null});\n  const [example, setExample] = React.useState(dbExample());\n  function setView(newView){\n    setControl({...control, formID: null, tempData: {}, view: newView})\n  }\n  function returnView(){\n    switch(control.view){\n      case 'landing': return <Landing {...sendControl}/>\n      case 'login':   return <Login {...sendControl}/>\n      case 'user':    return <User {...sendControl}/>\n      case 'form':   return <Form {...sendControl}/>\n      case 'creator': return <Creator {...sendControl}/>\n      case 'readqr': return <ReadQRCode {...sendControl}/>\n      default: return <Landing {...sendControl}/>\n    }\n  }\n  const closeAlert = () => {\n    setAlert({...alert, open: false});\n  }\n  const sendControl = {control, setControl, setView, example, setExample, setAlert}\n  return(\n    <MuiThemeProvider theme={themeLight}>\n      <CssBaseline />\n      <Navbar {...sendControl}/>\n      {returnView()}\n      <Snackbar open={alert.open} autoHideDuration={1000} onClose={closeAlert}>\n        <MuiAlert elevation={6} variant=\"filled\" severity={alert.severity}>\n          {alert.text}\n        </MuiAlert>\n      </Snackbar>\n    </MuiThemeProvider>\n  )\n}\n\nReactDOM.render(<Control />,document.getElementById('root'));\n","export function dbExample(){\r\n    const andreis_avatar = 'https://andreispurim.github.io/images/andreis.jpg';\r\n    const katia_avatar = 'https://i1.rgstatic.net/ii/profile.image/278835607162910-1443490997982_Q512/Katia-Purim.jpg'\r\n    const joel_avatar = 'https://api-isarvit.herokuapp.com/static/images/joel.png'\r\n    const urology_preview = 'http://services.epnet.com/getimage.aspx?imageiid=7432'\r\n    const respiratory_preview = 'https://www.researchgate.net/profile/John-Magnussen/publication/13354345/figure/fig2/AS:601775111409672@1520485775964/Lung-scan-in-eight-standard-views-of-8-mm3-block-sizes-involving-42-of-lung-tissue-In.png'\r\n    const dermatology_preview = 'https://i1.rgstatic.net/publication/309433994_Hydroxyurea_and_nonmelanoma_skin_cancers_Report_of_three_cases_and_review_of_the_literature/links/5810e8a408aef2ef97b2d07c/largepreview.png'\r\n    return {\r\n        qforms: 3,\r\n        rows: [\r\n            {editable: false, id: 0, name: 'Urologie/Lithiase', last_updated: new Date('2021-12-17T03:24:00').toJSON(), field: 'Urologie', creator: 'Andreis PURIM', preview: urology_preview, creator_avatar: andreis_avatar, dynamic_image: true, creator_id: 1201, keywords: ['Urology','CR'], questions: 17, uses: 15, description: 'This is a complete urology report made in 2020 for all urology based-scans used by the CHU Lille.', paragraph: 'This is a complete urology report made in 2020 for all urology based-scans used by the CHU Lille.'},\r\n            {editable: false, id: 1, name: 'Respiratoire', last_updated: new Date('2021-12-15T03:24:00').toJSON(), field: 'Respiratoire', creator: 'Andreis PURIM', preview: respiratory_preview, creator_avatar: andreis_avatar, dynamic_image: false, creator_id: 1201, keywords: ['Respiratory','CR'], questions: 2, uses: 1, description: 'A public CR created by the CHU Lille for respiratory scans used since 2018. It is release phase'},\r\n            {editable: false, id: 2, name: 'Dermatologie 2020', last_updated: new Date('2021-12-14T03:24:00').toJSON(), field: 'Dermatologie', creator: 'Katia MALTA', preview: dermatology_preview, creator_avatar: katia_avatar, dynamic_image: false, creator_id: 761, keywords: ['Dermatology','Skin'], questions: 3, uses: 12, description: 'This is a standard medical report for all dermatologic scans in Brazil. In the current version it does not have a dynamic image'}\r\n        ],\r\n        columns: [\r\n            { id: 'favorite', label: 'Favori', default: true, minWidth: 0, align: 'center'},\r\n            { id: 'name', label: 'Titre', default: true, minWidth: 170, align: 'left'},\r\n            { id: 'field', label: 'Domaine', default: true, minWidth: 100, align: 'right' },\r\n            { id: 'creator', label: 'Créateur', default: true, minWidth: 100, align: 'right' },\r\n            { id: 'uses', label: 'Usages', default: true, minWidth: 100, align: 'right' },\r\n            { id: 'last_updated', label: 'Dernière mise à jour', default: false, minWidth: 100, align: 'right' },\r\n            { id: 'keywords', label: 'Mots Clés', default: false, minWidth: 100, align: 'right' },\r\n        ],\r\n        users: {\r\n            andreis:\r\n                {   id: 1201, username: 'andreis', password:'qwert', admin: true, firstname: 'Andreis', lastname: 'PURIM', description: 'Étudiant à Centrale Lille', joined: '2021-02-05', last_seen: '2022-02-05',\r\n                    avatar: andreis_avatar, \r\n                    chips: [\r\n                        {type: 'work', label: 'CHU Lille'},\r\n                        {type: 'study', label: 'Centrale Lille'},\r\n                        {type: 'favorites', label: '0 Favoris'},\r\n                        {type: 'created', label: '0 Crées'},\r\n                    ],\r\n                    favorites: [0],\r\n                    recents: {\r\n                        1: new Date('2021-12-14T03:24:00').toJSON()\r\n                    },\r\n                    created: [0,1]\r\n                },\r\n            joel:\r\n                {   id: 999, username: 'joel', password:'qwert', admin: false, firstname: 'Joel', lastname: 'KALIL', description: 'Student at Centrale Lille and backend developer', joined: '2021-03-05', last_seen: '2022-02-05',\r\n                    avatar: joel_avatar, \r\n                    chips: [\r\n                        {type: 'study', label: 'Centrale Lille'},\r\n                        {type: 'favorites', label: '0 Favorites'},\r\n                        {type: 'created', label: '0 Created'},\r\n                    ],\r\n                    favorites: [],\r\n                    recents: [],\r\n                    created: [],\r\n                }, \r\n        },\r\n        forms: {\r\n            0: {\r\n              formatted: {\r\n                questions: [\r\n                  {\r\n                    \"isRequired\": true,\r\n                    \"name\": \"identifier\",\r\n                    \"title\": \"ID du Patient\",\r\n                    \"type\": \"text\"\r\n                  },\r\n                  {\r\n                    \"isRequired\": true,\r\n                    \"name\": \"patient_first_name\",\r\n                    \"title\": \"Prénom\",\r\n                    \"type\": \"text\"\r\n                  },\r\n                  {\r\n                    \"isRequired\": true,\r\n                    \"name\": \"patient_name\",\r\n                    \"title\": \"Nom\",\r\n                    \"type\": \"text\"\r\n                  },\r\n                  {\r\n                    \"isRequired\": true,\r\n                    \"name\": \"patient_birth\",\r\n                    \"title\": \"Date de naissance\",\r\n                    \"type\": \"text\"\r\n                  },\r\n                  {\r\n                    \"choices\": [\"CT scan\", \"Ultrasonography\", \"Radiography AND US\"],\r\n                    \"name\": \"exam_type\",\r\n                    \"title\": \"Type d'Examen\",\r\n                    \"type\": \"dropdown\"\r\n            \r\n                  },\r\n                  {\r\n                    \"choices\": [\"No\", \"IV\", \"IV late phase\", \"Urinary tract injection\", \"NA\"],\r\n                    \"name\": \"exam_indication\",\r\n                    \"title\": \"Agent de Contraste Amélioré\",\r\n                    \"type\": \"dropdown\"\r\n                  },\r\n                  {\r\n                    \"choices\": [\"Low dose\", \"Standard dose\", \"NA\"],\r\n                    \"name\": \"condition_contrast\",\r\n                    \"title\": \"Acute phase / clinical crisis at the time of the exam\",\r\n                    \"type\": \"dropdown\"\r\n                  },\r\n                  {\r\n                    \"choices\": [\"No\", \"Yes\", \"Unknown\", \"NA\"],\r\n                    \"name\": \"condition_fever\",\r\n                    \"title\": \"Patient febrile at the time of the exam\",\r\n                    \"type\": \"dropdown\"\r\n                  },\r\n                  {\r\n                    \"choices\": [\"No\", \"Bladder drainage\", \"Upper tract drainage\", \"NA\"],\r\n                    \"name\": \"condition_derivation\",\r\n                    \"title\": \"Urinary tract diversion in place at the time of the exam\",\r\n                    \"type\": \"dropdown\"\r\n                  },\r\n                  {\r\n                    \"choices\": [\"No\", \"Yes\", \"Unknown\", \"NA\"],\r\n                    \"name\": \"abnormal_liver\",\r\n                    \"title\":  \"Liver anomaly detected\",\r\n                    \"type\": \"dropdown\"\r\n                  },\r\n                  {\r\n                    \"choices\": [\"No\", \"Yes\", \"Unknown\", \"NA\"],\r\n                    \"name\": \"abnormal_adrenals\",\r\n                    \"title\":  \"Adrenals anomaly detected\",\r\n                    \"type\": \"dropdown\"\r\n                  },\r\n                  {\r\n                    \"choices\": [\"No\", \"Yes\", \"Unknown\", \"NA\"],\r\n                    \"name\": \"abnormal_pancreas\",\r\n                    \"title\":  \"Pancreas anomaly detected\",\r\n                    \"type\": \"dropdown\"\r\n                  },\r\n                  {\r\n                    \"choices\": [\"No\", \"Yes\", \"Unknown\", \"NA\"],\r\n                    \"name\":  \"abnormal_spleen\",\r\n                    \"title\":  \"Splenic anomaly detected\",\r\n                    \"type\": \"dropdown\"\r\n                  },\r\n                  {\r\n                    \"choices\": [\"No\", \"Yes\", \"Unknown\", \"NA\"],\r\n                    \"name\":  \"abnormal_ovaries\",\r\n                    \"title\":  \"Ovarian anomaly detected\",\r\n                    \"type\": \"dropdown\"\r\n                  },\r\n                  {\r\n                    \"choices\": [\"No\", \"Yes\", \"Unknown\", \"NA\"],\r\n                    \"name\":  \"abnormal_lymphnode\",\r\n                    \"title\":  \"Abnormal lymphnode detected\",\r\n                    \"type\": \"dropdown\"\r\n                  }\r\n                ],\r\n                template: {\r\n                    \"exam_indication\": {\r\n                        complete: true,\r\n                        begin: \"This is a sample text to check the exam_indication variabe, which user chose \",\r\n                        end: \" as an answer\"\r\n                    },\r\n                    \"conditition_contrast\": {\r\n                        \"Low dose\": \"He chose L O W D O S E\",\r\n                        \"Standart Dose\": \"He chose STANDARDDOSE\",\r\n                        \"NA\": \"He chose None of the Above\"\r\n                    },\r\n                    \"condition_fever\": {\r\n                        \"No\": \"Patient does not has fever\",\r\n                        \"Yes\": \"<b>Patient HAS fever</b>\",\r\n                        \"Unknown\": \"Condition about the fever is unknown\",\r\n                        \"NA\": \"Not know inf patient has fever\"\r\n                    },\r\n                    \r\n                },\r\n                svg: {\r\n                    \"name\": \"Urinary\",\r\n                    \"begin\": \"<svg id=\\\"svgDiv\\\" viewBox=\\\"0 0 820 800\\\" width=\\\"150\\\" height=\\\"150\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\",\r\n                    \"end\": \"</svg>\",\r\n                    \"organs\": [\r\n                        [\"<path id=\\\"left_ureter\\\" class=\\\"cls-1\\\" d=\\\"M 315.556 659.001 C 317.345 657.795 308.314 640.908 303.594 632.086 C 303.594 632.086 286.663 600.431 282.66 590.22 C 281.575 587.449 282.842 590.473 273.7 557.324 C 270.628 546.198 268.455 538.486 267.719 527.42 C 267.354 521.9 267.54 518.499 267.719 512.467 C 268.359 491.007 267.345 489.324 267.719 470.601 C 267.949 459.081 268.289 444.31 270.711 425.743 C 272.631 410.943 273.825 409.974 276.692 392.847 C 280.929 367.535 282.045 347.727 282.673 336.028 C 283.633 318.179 284.445 302.905 282.673 282.201 C 281.777 271.753 280.692 259.062 276.692 243.324 C 274.724 235.577 269.533 217.199 255.757 192.486 C 229.069 144.623 190.343 109.145 186.964 111.759 C 186.714 111.951 186.81 112.236 186.964 114.748 C 186.964 114.748 187.348 121.02 186.964 129.702 C 186.749 134.521 186.471 140.815 183.975 147.644 C 180.205 157.948 173.434 163.862 175.015 165.586 C 175.552 166.178 176.695 165.858 178.007 165.586 C 178.007 165.586 179.082 165.362 192.957 165.586 C 197.629 165.663 213.034 171.103 231.834 195.491 C 257.607 228.924 264.628 265.356 264.73 282.211 L 264.73 327.055 C 264.986 351.919 266.039 353.151 264.73 362.943 C 264.071 367.871 263.716 368.227 261.738 380.886 C 261.098 384.908 259.882 392.815 258.749 401.82 C 256.932 416.255 257.553 416.102 255.757 431.724 C 254.042 446.662 253.197 449.087 252.769 458.636 C 252.378 466.956 252.637 473.036 252.769 476.582 C 253.658 500.943 252.49 515.407 252.769 527.42 C 253.562 561.66 266.442 590.012 270.711 599.19 C 287.213 634.707 313.095 660.655 315.556 659.001 Z\\\" style=\\\"fill: rgb(255, 238, 170); stroke: rgb(0, 0, 0); stroke-miterlimit: 10; stroke-width: 7px;\\\"></path>\",\r\n                        \"<path class=\\\"cls-2\\\" d=\\\"M 323.748 663.98 C 325.698 663.023 313.622 651.238 302.506 629.341 C 288.019 600.788 285.942 576.281 285.514 569.505 C 285.514 569.387 285.514 569.472 285.514 541.16 C 285.514 518.501 285.514 507.169 285.514 506.519 C 285.408 475.761 285.027 476.287 285.514 468.728 C 285.842 463.674 287.154 453.732 289.765 434.086 C 292.364 414.5 292.614 413.62 294.011 402.594 C 295.204 393.158 296.243 383.568 298.261 364.804 C 300.914 340.126 302.247 327.648 302.506 320.713 C 302.892 310.468 302.35 312.345 302.506 286.073 C 302.651 262.1 303.097 261.385 302.506 254.579 C 301.418 241.8 298.572 229.137 294.011 216.788 C 291.62 210.385 284.979 194.015 268.523 172.7 C 266.276 169.788 245.302 140.787 213.916 120.059 C 210.833 118.037 198.864 110.266 192.059 112.865 C 189.787 113.727 187.715 116.571 183.563 122.3 C 182.098 124.322 181.441 125.373 179.313 128.598 C 176 133.629 173.598 137.269 170.817 141.194 C 165.54 148.643 162.902 152.366 162.343 152.99 C 159.54 156.059 157.022 158.206 158.076 160.104 C 158.908 161.603 161.599 162.26 163.641 162.755 C 165.954 163.311 168.405 163.48 170.817 163.251 C 181.509 165.823 188.064 168.086 192.059 169.549 C 192.551 169.731 193.074 169.93 193.651 170.189 C 200.168 173.121 203.651 176.994 205.719 179.346 C 211.701 186.086 206.628 179.308 217.538 191.595 C 224.275 199.178 227.643 202.969 230.302 206.473 C 238.375 217.126 242.411 222.452 243.031 229.389 C 243.031 229.607 243.031 229.473 243.031 241.985 L 243.031 251.421 C 243.031 255.903 243.221 260.593 244.394 275.549 C 245.408 288.692 245.507 288.017 246.134 296.894 C 246.63 303.897 247.043 309.787 247.298 317.555 C 247.586 326.697 247.752 332.615 247.298 339.598 C 246.63 349.37 245.247 352.585 243.047 364.794 C 241.434 373.731 241.489 375.005 238.797 399.433 C 236.839 417.256 236.766 414.743 234.552 434.076 C 231.325 462.302 229.72 476.637 230.302 487.613 C 230.997 500.638 233.112 513.487 234.552 522.255 C 235.944 530.704 236.947 536.834 238.797 544.298 C 244.539 567.446 253.691 584.537 255.794 588.391 C 266.09 607.26 277.435 620.201 285.528 629.33 C 301.533 647.41 321.32 665.177 323.748 663.98 Z\\\" style=\\\"fill: rgb(212, 0, 0); stroke: rgb(0, 0, 0); stroke-miterlimit: 10; stroke-width: 7px;\\\"></path>\" ],\r\n                        [\"<path id=\\\"right_ureter\\\" class=\\\"cls-1\\\" d=\\\"M 652.605 114.843 C 654.394 116.049 645.363 132.936 640.643 141.758 C 640.643 141.758 623.712 173.413 619.709 183.624 C 618.624 186.395 619.891 183.371 610.749 216.52 C 607.677 227.646 605.504 235.358 604.768 246.424 C 604.403 251.944 604.589 255.346 604.768 261.378 C 605.408 282.837 604.394 284.52 604.768 303.243 C 604.999 314.763 605.338 329.534 607.76 348.101 C 609.68 362.901 610.874 363.87 613.741 380.997 C 617.978 406.309 619.095 426.117 619.722 437.816 C 620.682 455.666 621.495 470.939 619.722 491.643 C 618.826 502.091 617.741 514.782 613.741 530.52 C 611.773 538.267 606.583 556.645 592.807 581.358 C 566.119 629.221 527.392 664.699 524.013 662.085 C 523.763 661.893 523.859 661.608 524.013 659.096 C 524.013 659.096 524.397 652.824 524.013 644.142 C 523.799 639.323 523.52 633.029 521.024 626.2 C 517.255 615.896 510.483 609.982 512.064 608.258 C 512.602 607.666 513.744 607.986 515.056 608.258 C 515.056 608.258 516.131 608.482 530.007 608.258 C 534.679 608.181 550.083 602.741 568.883 578.354 C 594.656 544.92 601.677 508.488 601.779 491.634 L 601.779 446.789 C 602.035 421.925 603.088 420.693 601.779 410.901 C 601.12 405.973 600.765 405.618 598.787 392.958 C 598.147 388.936 596.931 381.029 595.799 372.024 C 593.981 357.589 594.602 357.742 592.807 342.12 C 591.091 327.182 590.247 324.757 589.818 315.208 C 589.427 306.888 589.687 300.808 589.818 297.262 C 590.707 272.901 589.539 258.437 589.818 246.424 C 590.611 212.184 603.491 183.832 607.76 174.654 C 624.263 139.138 650.144 113.189 652.605 114.843 Z\\\" style=\\\"fill: rgb(255, 238, 170); stroke: rgb(0, 0, 0); stroke-miterlimit: 10; stroke-width: 7px;\\\" transform=\\\"matrix(-1, 0, 0, -1, 1164.665192, 776.988724)\\\"></path>\",\r\n                        \"<path class=\\\"cls-2\\\" d=\\\"M 656.805 119.096 C 658.63 120.056 647.328 131.877 636.924 153.841 C 623.364 182.48 621.421 207.062 621.019 213.858 C 621.019 213.977 621.019 213.891 621.019 242.289 C 621.019 265.017 621.019 276.384 621.019 277.036 C 620.92 307.886 620.563 307.359 621.019 314.941 C 621.327 320.011 622.555 329.983 624.998 349.688 C 627.431 369.333 627.665 370.217 628.972 381.276 C 630.089 390.741 631.061 400.36 632.951 419.181 C 635.433 443.934 636.68 456.45 636.924 463.406 C 637.285 473.682 636.777 471.799 636.924 498.151 C 637.059 522.197 637.477 522.914 636.924 529.74 C 635.905 542.558 633.241 555.26 628.972 567.646 C 626.734 574.069 620.518 590.488 605.117 611.868 C 603.013 614.788 583.383 643.877 554.007 664.668 C 551.121 666.697 539.919 674.492 533.549 671.885 C 531.423 671.02 529.484 668.167 525.597 662.421 C 524.227 660.392 523.612 659.339 521.619 656.103 C 518.519 651.058 516.271 647.407 513.668 643.47 C 508.73 635.998 506.26 632.264 505.736 631.637 C 503.113 628.56 500.757 626.406 501.742 624.502 C 502.522 622.999 505.04 622.34 506.951 621.843 C 509.116 621.286 511.409 621.116 513.668 621.346 C 523.676 618.765 529.811 616.496 533.549 615.029 C 534.01 614.846 534.499 614.646 535.04 614.387 C 541.139 611.446 544.399 607.561 546.335 605.202 C 551.934 598.441 547.185 605.239 557.397 592.916 C 563.703 585.31 566.855 581.507 569.344 577.993 C 576.899 567.307 580.677 561.965 581.257 555.006 C 581.257 554.788 581.257 554.923 581.257 542.373 L 581.257 532.908 C 581.257 528.412 581.435 523.708 582.533 508.707 C 583.482 495.524 583.574 496.2 584.161 487.296 C 584.625 480.273 585.012 474.365 585.251 466.573 C 585.52 457.403 585.676 451.468 585.251 444.463 C 584.625 434.662 583.331 431.437 581.272 419.191 C 579.763 410.227 579.814 408.949 577.295 384.447 C 575.462 366.57 575.393 369.09 573.32 349.698 C 570.3 321.387 568.799 307.008 569.344 295.998 C 569.995 282.934 571.974 270.046 573.32 261.252 C 574.624 252.777 575.564 246.628 577.295 239.142 C 582.669 215.924 591.234 198.781 593.203 194.914 C 602.839 175.989 613.458 163.008 621.032 153.852 C 636.013 135.717 654.532 117.896 656.805 119.096 Z\\\" style=\\\"fill: rgb(212, 0, 0); stroke: rgb(0, 0, 0); stroke-miterlimit: 10; stroke-width: 7px;\\\" transform=\\\"matrix(-1, 0, 0, -1, 1158.513489, 791.451279)\\\"></path>\" ],\r\n                        [\"<path id=\\\"bladder\\\" class=\\\"cls-1\\\" d=\\\"M 419.731 761.883 C 421.685 761.182 422.827 759.68 424.214 757.4 C 426.835 753.113 427.574 750.584 428.702 748.429 C 430.675 744.589 433.426 742.573 437.674 739.457 C 444.211 734.657 449.755 732.814 455.616 730.486 C 465.792 726.44 473.938 723.209 482.53 717.046 C 486.576 714.137 494.011 708.733 500.472 699.104 C 503.462 694.649 508.406 687.104 509.443 676.673 C 509.582 675.296 509.51 675.257 509.443 667.702 C 509.4 662.624 509.414 656.84 509.443 645.277 C 509.51 620.633 510.082 621.901 509.443 618.363 C 507.952 610.37 504.904 602.749 500.472 595.933 C 494.069 585.79 486.499 579.987 478.046 573.502 C 473.757 570.235 469.269 567.239 464.606 564.531 C 456.859 560.029 450.686 556.525 442.176 555.56 C 439.723 555.281 438.749 555.142 433.205 555.56 C 432.499 555.617 423.763 555.598 406.291 555.56 C 376.57 555.502 378.134 554.859 374.894 555.56 C 361.934 558.363 353.026 565.107 347.976 569 C 337.704 576.953 332.482 585.099 325.55 595.913 C 318.907 606.277 313.478 614.955 312.11 627.315 C 311.875 629.413 312.053 628.985 312.11 640.755 C 312.23 664.496 311.515 666.545 312.11 672.157 C 313.867 688.688 323.208 700.553 325.55 703.558 L 325.55 703.558 C 332.75 710.758 347.016 725.024 365.923 730.472 C 373.266 732.566 380.765 734.066 388.349 734.955 C 393.826 734.955 398.52 735.809 401.789 739.443 C 402.835 740.6 403.982 743.206 406.272 748.414 C 407.467 751.131 408.552 753.848 410.76 757.385 C 412.358 759.949 413.482 761.225 415.243 761.869 C 416.696 762.375 418.275 762.38 419.731 761.883 Z\\\" style=\\\"fill: rgb(255, 238, 170); stroke: rgb(0, 0, 0); stroke-miterlimit: 10; stroke-width: 7px;\\\"></path>\"],\r\n                        [\"<path id=\\\"left_kidney\\\" class=\\\"cls-3\\\" d=\\\"M 115.071 247.607 C 122.751 244.95 132.994 241.424 141.169 231.294 C 141.784 230.533 155.297 213.375 150.944 195.411 C 149.547 189.56 145.823 181.978 144.416 179.098 C 141.047 172.2 139.787 171.344 137.891 166.049 C 136.057 160.787 134.96 155.298 134.631 149.736 C 134.17 143.368 135.06 143.221 134.631 136.687 C 134.201 130.152 133.933 125.208 131.367 120.377 C 126.692 111.597 117.822 108.232 118.318 107.324 C 118.747 106.546 125.156 109.419 128.092 110.588 C 145.851 117.57 168.123 113.032 183.552 104.064 C 189.644 100.524 200.309 94.324 206.386 81.226 C 206.945 80.026 213.12 66.264 209.65 51.868 C 202.536 22.342 158.645 5.819 124.821 6.193 C 102.563 6.441 85.353 14.005 75.886 19.242 C 51.345 32.825 39.58 52.5 30.214 68.177 C 24.775 77.278 11.409 101.875 7.377 136.687 C 5.233 155.188 3.261 172.248 10.641 192.147 C 21.239 220.72 47.815 246.256 79.15 250.871 C 97.323 253.548 112.387 248.532 115.071 247.607 Z\\\" style=\\\"fill: rgb(255, 170, 170); stroke: rgb(0, 0, 0); stroke-miterlimit: 10; stroke-width: 7px;\\\"></path>\",\r\n                        \"<path class=\\\"cls-2\\\" d=\\\"M 158.014 215.905 C 159.29 217.755 145.693 228.621 127.073 235.905 C 115.829 240.305 96.565 247.83 75.497 244.467 C 28.809 237.028 12.001 182.225 10.169 175.906 C 6.468 163.146 6.586 153.443 6.729 141.618 C 6.94 124.775 7.318 93.694 27.362 61.62 C 36.951 46.272 61.229 7.413 109.879 -1.239 C 117.401 -2.575 148.143 -8.048 175.207 7.321 C 210.048 27.133 212.422 66.297 209.588 67.321 C 208.286 67.793 205.358 58.345 195.835 55.893 C 193.706 55.342 184.622 53.448 168.33 64.454 C 141.557 82.571 132.333 110.559 127.073 127.312 C 127.073 127.312 118.159 155.69 123.633 190.168 C 124.26 194.143 126.013 203.162 133.933 210.169 C 135.827 211.845 139.085 214.645 144.235 215.884 C 151.731 217.696 157.252 214.801 158.014 215.905 Z\\\" style=\\\"fill: rgb(212, 0, 0); stroke: rgb(0, 0, 0); stroke-miterlimit: 10; stroke-width: 7px;\\\"></path>\"],\r\n                        [\"<path id=\\\"right_kidney\\\" class=\\\"cls-3\\\" d=\\\"M 722.276 11.944 C 729.956 14.601 740.198 18.127 748.374 28.257 C 748.988 29.018 762.501 46.176 758.148 64.14 C 756.752 69.991 753.027 77.574 751.62 80.454 C 748.251 87.352 746.991 88.207 745.096 93.503 C 743.261 98.764 742.164 104.253 741.835 109.816 C 741.374 116.183 742.265 116.33 741.835 122.865 C 741.406 129.4 741.137 134.343 738.571 139.174 C 733.897 147.954 725.026 151.319 725.522 152.227 C 725.952 153.005 732.361 150.132 735.297 148.963 C 753.055 141.981 775.327 146.519 790.757 155.487 C 796.848 159.027 807.513 165.227 813.591 178.325 C 814.149 179.526 820.325 193.287 816.855 207.683 C 809.74 237.209 765.849 253.732 732.026 253.358 C 709.768 253.11 692.557 245.546 683.09 240.309 C 658.549 226.726 646.785 207.051 637.419 191.374 C 631.98 182.273 618.613 157.676 614.581 122.865 C 612.438 104.363 610.465 87.303 617.845 67.404 C 628.443 38.831 655.02 13.295 686.354 8.68 C 704.528 6.003 719.591 11.019 722.276 11.944 Z\\\" style=\\\"fill: rgb(255, 170, 170); stroke: rgb(0, 0, 0); stroke-miterlimit: 10; stroke-width: 7px;\\\" transform=\\\"matrix(-1, 0, 0, -1, 1430.53241, 261.26618)\\\"></path>\",\r\n                        \"<path class=\\\"cls-2\\\" d=\\\"M 763.522 36.173 C 764.711 34.323 752.043 23.457 734.694 16.173 C 724.218 11.773 706.269 4.248 686.64 7.611 C 643.14 15.05 627.48 69.853 625.773 76.172 C 622.325 88.932 622.434 98.635 622.568 110.46 C 622.765 127.303 623.116 158.384 641.791 190.458 C 650.726 205.806 673.346 244.665 718.674 253.317 C 725.683 254.653 754.325 260.126 779.541 244.757 C 812.003 224.945 814.215 185.781 811.575 184.757 C 810.361 184.285 807.634 193.733 798.76 196.185 C 796.778 196.736 788.313 198.63 773.134 187.624 C 748.189 169.507 739.594 141.519 734.694 124.766 C 734.694 124.766 726.388 96.388 731.489 61.91 C 732.073 57.935 733.706 48.916 741.086 41.909 C 742.85 40.233 745.886 37.433 750.684 36.194 C 757.669 34.382 762.812 37.277 763.522 36.173 Z\\\" style=\\\"fill: rgb(212, 0, 0); stroke: rgb(0, 0, 0); stroke-miterlimit: 10; stroke-width: 7px;\\\" transform=\\\"matrix(-1, 0, 0, -1, 1434.899841, 262.128242)\\\"></path>\"],\r\n                        [\"<path id=\\\"left_neuron\\\" class=\\\"cls-1\\\" d=\\\"M 197.597 120.714 C 196.505 117.682 192.538 117.599 185.218 114.016 C 185.218 114.016 175.961 109.493 164.564 97.273 C 143.166 74.338 153.816 39.681 139.775 36.99 C 139.457 36.932 139.775 36.99 135.641 36.99 C 116.366 36.922 112.653 35.281 110.853 36.99 C 107.984 39.721 115.473 45.769 123.232 60.434 C 125.531 64.77 131.19 76.176 131.495 90.576 C 131.707 101.197 128.789 103.261 127.361 103.971 C 122.67 106.297 115.058 103.448 110.836 100.62 C 107.741 98.563 107.357 96.983 102.573 90.586 C 92.604 77.233 90.84 77.026 90.194 77.191 C 87.67 77.818 91.636 86.275 86.065 90.586 C 81.599 94.037 73.886 92.603 73.687 93.933 C 73.51 95.03 78.7 96.284 81.949 97.284 C 94.801 101.226 106.897 110.36 110.871 120.724 C 112.096 123.924 114.236 129.5 110.871 134.123 C 106.596 139.99 76.653 136.807 69.557 137.471 C 68.674 137.553 62.267 138.152 61.295 140.821 C 60.557 142.839 63.642 144.089 65.424 147.519 C 68.735 153.88 63.142 159.245 65.424 160.914 C 68.271 162.996 77.886 154.905 90.212 150.88 C 107.401 145.251 131.402 146.939 135.66 154.231 C 143.542 167.713 86.207 204.566 86.083 204.466 C 85.959 204.366 95.632 194.493 110.871 191.067 C 114.987 190.142 121.322 188.795 127.397 191.067 C 135.527 194.113 137.848 201.649 139.775 201.101 C 141.469 200.635 138.86 195.116 139.775 187.706 C 139.775 187.706 141.508 173.607 156.301 164.261 C 158.657 162.771 161.04 161.269 164.564 160.914 C 168.542 160.513 170.368 161.95 172.826 160.914 C 174.992 159.997 175.532 158.048 176.956 154.217 C 178.21 150.834 179.957 147.576 181.089 144.183 C 185.355 131.235 199.79 126.82 197.597 120.714 Z\\\" style=\\\"fill: rgb(255, 238, 170); stroke: rgb(0, 0, 0); stroke-miterlimit: 10; stroke-width: 7px;\\\"></path>\"],\r\n                        [\"<path id=\\\"right_neuron\\\" class=\\\"cls-1\\\" d=\\\"M 763.635 123.494 C 762.543 126.526 758.576 126.609 751.256 130.192 C 751.256 130.192 741.999 134.715 730.602 146.935 C 709.204 169.87 719.854 204.527 705.813 207.218 C 705.495 207.276 705.813 207.218 701.679 207.218 C 682.404 207.286 678.691 208.927 676.891 207.218 C 674.022 204.487 681.511 198.439 689.27 183.774 C 691.569 179.438 697.228 168.032 697.533 153.632 C 697.745 143.011 694.827 140.947 693.399 140.237 C 688.708 137.911 681.096 140.76 676.874 143.588 C 673.779 145.645 673.395 147.225 668.611 153.622 C 658.642 166.975 656.878 167.182 656.232 167.017 C 653.708 166.39 657.674 157.933 652.103 153.622 C 647.637 150.171 639.924 151.605 639.725 150.275 C 639.548 149.178 644.738 147.924 647.987 146.924 C 660.839 142.982 672.935 133.848 676.909 123.484 C 678.134 120.284 680.274 114.708 676.909 110.085 C 672.634 104.218 642.691 107.401 635.595 106.737 C 634.712 106.655 628.305 106.056 627.333 103.387 C 626.595 101.369 629.68 100.119 631.462 96.689 C 634.773 90.328 629.18 84.963 631.462 83.294 C 634.309 81.212 643.924 89.303 656.25 93.328 C 673.439 98.957 697.44 97.269 701.698 89.977 C 709.58 76.495 652.245 39.642 652.121 39.742 C 651.997 39.842 661.67 49.715 676.909 53.141 C 681.025 54.066 687.36 55.413 693.435 53.141 C 701.565 50.095 703.886 42.559 705.813 43.107 C 707.507 43.573 704.898 49.092 705.813 56.502 C 705.813 56.502 707.546 70.601 722.339 79.947 C 724.695 81.437 727.078 82.939 730.602 83.294 C 734.58 83.695 736.406 82.258 738.864 83.294 C 741.03 84.211 741.57 86.16 742.994 89.991 C 744.248 93.374 745.995 96.632 747.127 100.025 C 751.393 112.973 765.828 117.388 763.635 123.494 Z\\\" style=\\\"fill: rgb(255, 238, 170); stroke: rgb(0, 0, 0); stroke-miterlimit: 10; stroke-width: 7px;\\\" transform=\\\"matrix(-1, 0, 0, -1, 1391.081299, 247.73468)\\\"></path>\"],\r\n                    ]\r\n                  }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}"],"sourceRoot":""}